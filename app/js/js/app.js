/*!qinglongWeb-1.0.0 2017-09-29*/
if("undefined"==typeof $)throw new Error("This application's JavaScript requires jQuery");var App=angular.module("scoc",["ngRoute","ngAnimate","ngStorage","ngCookies","pascalprecht.translate","ui.bootstrap","ui.router","oc.lazyLoad","cfp.loadingBar","ngSanitize","ngResource","tmh.dynamicLocale","ui.utils","bw.paging","cgBusy"]);App.run(["$http","$rootScope","$state","$stateParams","$window","$templateCache","serverUrls","layerAlert",function(a,b,c,d,e,f,g,h){b.$state=c,b.$stateParams=d,b.$storage=e.localStorage,b.app={name:"智慧青龙",description:"智慧街区试点项目",year:(new Date).getFullYear(),layout:{isFixed:!0,isCollapsed:!1,isBoxed:!1,isRTL:!1,horizontal:!1,isFloat:!1,asideHover:!1,theme:null},useFullLayout:!1,hiddenFooter:!1,viewAnimation:"ng-fadeInUp"},b.user={name:"王晓武",job:"超级管理员",picture:"app/img/user/08.jpg",token:""},b.gHeader={},b.pHeader={}}]),App.config(["$stateProvider","$locationProvider","$urlRouterProvider","RouteHelpersProvider",function(a,b,c,d){"use strict";b.html5Mode(!1),c.otherwise("/app/home"),a.state("app",{url:"/app","abstract":!0,templateUrl:d.basepath("app.html"),controller:"AppController",resolve:d.resolveFor("textAngular","ui.select","fastclick","modernizr","icons","screenfull","animo","sparklines","slimscroll","classyloader","toaster","whirl","angularBootstrapNavTree")}).state("app.home",{url:"/home",title:"管理首页",templateUrl:d.basepath("home.html"),resolve:d.resolveFor("flot-chart","flot-chart-plugins")}).state("app.event",{url:"/event",title:"待办事项",templateUrl:d.basepath("daibanshixiang.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","filestyle","daibanshixiangCtrl"),controller:"daibanshixiangCtrl"}).state("app.todoList",{url:"/todoList",title:"待办事项",templateUrl:d.basepath("todoList.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","filestyle","todoListCtrl"),controller:"todoListCtrl"}).state("app.infoUpload",{url:"/infoUpload",title:"信息上报中心",templateUrl:d.basepath("xinxishangbao.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","xinxishangbaoCtrl"),controller:"xinxishangbaoCtrl"}).state("app.eventHandle",{url:"/eventHandle",title:"事件进度查询",templateUrl:d.basepath("shixiangchuli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shixiangchuliCtrl"),controller:"shixiangchuliCtrl"}).state("app.employee",{url:"/employee",title:"员工管理",templateUrl:d.basepath("yuangongguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","yuangongguanliCtrl"),controller:"yuangongguanliCtrl"}).state("app.build",{url:"/build",title:"建设中...",templateUrl:d.basepath("building.html"),resolve:d.resolveFor("flot-chart","flot-chart-plugins")}).state("app.shijian-changzhurenkou",{url:"/shijian-changzhurenkou",title:"常住人口列表",templateUrl:d.basepath("shijian-changzhurenkou.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","changzhurenkouCtrl"),controller:"changzhurenkouCtrl"}).state("app.peizhi-gongzuoliu",{url:"/peizhi-gongzuoliu",title:"工作流管理",templateUrl:d.basepath("peizhi-gongzuoliu.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","gongzuoliuCtrl"),controller:"gongzuoliuCtrl"}).state("app.workGroups",{url:"/workGroups",title:"工作组管理",templateUrl:d.basepath("workGroups.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","workGroupsCtrl"),controller:"workGroupsCtrl"}).state("app.Owers",{url:"/Owers",title:"拥有者管理",templateUrl:d.basepath("Owers.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","OwersCtrl"),controller:"OwersCtrl"}).state("app.gongzuoliu-buzhou",{url:"/gongzuoliu-buzhou",title:"工作流管理-步骤配置",templateUrl:d.basepath("gongzuoliu-buzhou.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","gzlbuzhouCtrl"),controller:"gzlbuzhouCtrl"}).state("app.zuzhi-zuzhijiagou",{url:"/zuzhi-zuzhijiagou",title:"组织架构",templateUrl:d.basepath("zuzhi-zuzhijiagou.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zuzhijiagouCtrl"),controller:"zuzhijiagouCtrl"}).state("app.zuzhi-gangweiguanli",{url:"/zuzhi-gangweiguanli",title:"岗位管理",templateUrl:d.basepath("zuzhi-gangweiguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","gangweiguanliCtrl"),controller:"gangweiguanliCtrl"}).state("app.zuzhi-renyuanguanli",{url:"/zuzhi-renyuanguanli",title:"人员管理",templateUrl:d.basepath("zuzhi-renyuanguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","renyuanguanliCtrl"),controller:"renyuanguanliCtrl"}).state("app.zuzhi-shetuanguanli",{url:"/zuzhi-shetuanguanli",title:"社团管理",templateUrl:d.basepath("zuzhi-shetuanguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shetuanguanliCtrl"),controller:"shetuanguanliCtrl"}).state("app.zuzhi-zizhizuzhi",{url:"/zuzhi-zizhizuzhi",title:"自治组织管理",templateUrl:d.basepath("zuzhi-zizhizuzhi.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zizhizuzhiCtrl"),controller:"zizhizuzhiCtrl"}).state("app.zuzhi-zizhijuese",{url:"/zuzhi-zizhijuese",title:"自治角色管理",templateUrl:d.basepath("zuzhi-zizhijuese.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zizhijueseCtrl"),controller:"zizhijueseCtrl"}).state("app.shequ-fangwuguanli",{url:"/shequ-fangwuguanli",title:"房屋管理",templateUrl:d.basepath("shequ-fangwuguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","fangwuguanliCtrl"),controller:"fangwuguanliCtrl"}).state("app.shequ-juminguanli",{url:"/shequ-juminguanli",title:"居民管理",templateUrl:d.basepath("shequ-juminguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","juminguanliCtrl"),controller:"juminguanliCtrl"}).state("app.shequ-cheliangguanli",{url:"/shequ-cheliangguanli",title:"车辆管理",templateUrl:d.basepath("shequ-cheliangguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","cheliangguanliCtrl"),controller:"cheliangguanliCtrl"}).state("app.shequ-qiyeguanli",{url:"/shequ-qiyeguanli",title:"企业管理",templateUrl:d.basepath("shequ-qiyeguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","qiyeguanliCtrl"),controller:"qiyeguanliCtrl"}).state("app.shijian-liudongrenkou",{url:"/shijian-liudongrenkou",title:"流动人口列表",templateUrl:d.basepath("shijian-liudongrenkou.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","liudongrenkouCtrl"),controller:"liudongrenkouCtrl"}).state("app.shijian-zhongdianrenqun",{url:"/shijian-zhongdianrenqun",title:"重点人群列表",templateUrl:d.basepath("shijian-zhongdianrenqun.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zhongdianrenqunCtrl"),controller:"zhongdianrenqunCtrl"}).state("app.shijian-guanzhurenqun",{url:"/shijian-guanzhurenqun",title:"关注人群列表",templateUrl:d.basepath("shijian-guanzhurenqun.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","guanzhurenqunCtrl"),controller:"guanzhurenqunCtrl"}).state("app.shijian-zhuquqiye",{url:"/shijian-zhuquqiye",title:"驻区企业列表",templateUrl:d.basepath("shijian-zhuquqiye.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zhuquqiyeCtrl"),controller:"zhuquqiyeCtrl"}).state("app.shijian-xinwengonggao",{url:"/shijian-xinwengonggao",title:"新闻公告管理",templateUrl:d.basepath("shijian-xinwengonggao.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","xinwengonggaoCtrl"),controller:"xinwengonggaoCtrl"}).state("app.shijian-juminjifen",{url:"/shijian-juminjifen",title:"居民积分管理",templateUrl:d.basepath("shijian-juminjifen.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","juminjifenCtrl"),controller:"juminjifenCtrl"}).state("app.shijian-minzhuxieshang",{url:"/shijian-minzhuxieshang",title:"民主协商管理",templateUrl:d.basepath("shijian-minzhuxieshang.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","minzhuxieshangCtrl","flot-chart","flot-chart-plugins"),controller:"minzhuxieshangCtrl"}).state("app.shijian-xieshanggongshi",{url:"/shijian-xieshanggongshi",title:"民主协商公示",templateUrl:d.basepath("shijian-xieshanggongshi.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","xieshanggongshiCtrl","flot-chart","flot-chart-plugins"),controller:"xieshanggongshiCtrl"}).state("app.shijian-wanggeguanli",{url:"/shijian-wanggeguanli",title:"自治单元管理",templateUrl:d.basepath("shijian-wanggeguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","wanggeguanliCtrl","flot-chart","flot-chart-plugins"),controller:"wanggeguanliCtrl"}).state("app.huanwei-huanjingweisheng",{url:"/huanwei-huanjingweisheng",title:"环境卫生治理",templateUrl:d.basepath("huanwei-huanjingweisheng.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","huanjingweishengCtrl"),controller:"huanjingweishengCtrl"}).state("app.huanwei-chengguanshangbao",{url:"/huanwei-chengguanshangbao",title:"城管上报事项",templateUrl:d.basepath("huanwei-chengguanshangbao.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","chengguanshangbaoCtrl"),controller:"chengguanshangbaoCtrl"}).state("app.huanwei-wuranyuan",{url:"/huanwei-wuranyuan",title:"污染源事项",templateUrl:d.basepath("huanwei-wuranyuan.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","wuranyuanCtrl"),controller:"wuranyuanCtrl"}).state("app.anquan-anquanxiaofang",{url:"/anquan-anquanxiaofang",title:"安全消防事项",templateUrl:d.basepath("anquan-anquanxiaofang.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","anquanxiaofangCtrl"),controller:"anquanxiaofangCtrl"}).state("app.anquan-yichangqingkuang",{url:"/anquan-yichangqingkuang",title:"异常情况事项",templateUrl:d.basepath("anquan-yichangqingkuang.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","yichangqingkuangCtrl"),controller:"yichangqingkuangCtrl"}).state("app.anquan-shiyaoanquan",{url:"/anquan-shiyaoanquan",title:"食药安全事项",templateUrl:d.basepath("anquan-shiyaoanquan.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shiyaoanquanCtrl"),controller:"shiyaoanquanCtrl"}).state("app.yuanluo-shipinjiankong",{url:"/yuanluo-shipinjiankong",title:"视频监控",templateUrl:d.basepath("yuanluo-shipinjiankong.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shipinjiankongCtrl"),controller:"shipinjiankongCtrl"}).state("app.yuanluo-tingcheguanli",{url:"/yuanluo-tingcheguanli",title:"停车管理",templateUrl:d.basepath("yuanluo-tingcheguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","tingcheguanliCtrl"),controller:"tingcheguanliCtrl"}).state("app.yuanluo-menjinguanli",{url:"/yuanluo-menjinguanli",title:"门禁管理",templateUrl:d.basepath("yuanluo-menjinguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","menjinguanliCtrl"),controller:"menjinguanliCtrl"}).state("app.yuanluo-lvhuaguanli",{url:"/yuanluo-lvhuaguanli",title:"绿化管理",templateUrl:d.basepath("yuanluo-lvhuaguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","lvhuaguanliCtrl"),controller:"lvhuaguanliCtrl"}).state("app.yuanluo-ziliaoguanli",{url:"/yuanluo-ziliaoguanli",title:"资料管理",templateUrl:d.basepath("yuanluo-ziliaoguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","ziliaoguanliCtrl"),controller:"ziliaoguanliCtrl"}).state("app.yuanluo-shujucaiji",{url:"/yuanluo-shujucaiji",title:"数据采集",templateUrl:d.basepath("yuanluo-shujucaiji.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shujucaijiCtrl"),controller:"shujucaijiCtrl"}).state("app.yuanluo-diantiguanli",{url:"/yuanluo-diantiguanli",title:"电梯管理",templateUrl:d.basepath("yuanluo-diantiguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","diantiguanliCtrl"),controller:"diantiguanliCtrl"}).state("app.yuanluo-xiaofangguanli",{url:"/yuanluo-xiaofangguanli",title:"消防管理",templateUrl:d.basepath("yuanluo-xiaofangguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","xiaofangguanliCtrl"),controller:"xiaofangguanliCtrl"}).state("app.yuanluo-jinchukouguanli",{url:"/yuanluo-jinchukouguanli",title:"进出口管理",templateUrl:d.basepath("yuanluo-jinchukouguanli.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","jinchukouguanliCtrl"),controller:"jinchukouguanliCtrl"}).state("app.zonghe-xinwenfabu",{url:"/zonghe-xinwenfabu",title:"新闻发布",templateUrl:d.basepath("zonghe-xinwenfabu.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","xinwenfabuCtrl"),controller:"xinwenfabuCtrl"}).state("app.zonghe-jifentiaozheng",{url:"/zonghe-jifentiaozheng",title:"积分调整",templateUrl:d.basepath("zonghe-jifentiaozheng.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","jifentiaozhengCtrl"),controller:"jifentiaozhengCtrl"}).state("app.zonghe-zhiyuanzhe",{url:"/zonghe-zhiyuanzhe",title:"志愿者列表",templateUrl:d.basepath("zonghe-zhiyuanzhe.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zhiyuanzheCtrl"),controller:"zhiyuanzheCtrl"}).state("app.peizhi-shixiangmuban",{url:"/peizhi-shixiangmuban",title:"事项模板管理",templateUrl:d.basepath("peizhi-shixiangmuban.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shixiangmubanCtrl"),controller:"shixiangmubanCtrl"}).state("app.peizhi-shixiangshili",{url:"/peizhi-shixiangshili",title:"模板实例查看",templateUrl:d.basepath("peizhi-shixiangshili.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shixiangshiliCtrl"),controller:"shixiangshiliCtrl"}).state("app.peizhi-jifenguize",{url:"/peizhi-jifenguize",title:"积分规则",templateUrl:d.basepath("peizhi-jifenguize.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","jifenguizeCtrl"),controller:"jifenguizeCtrl"}).state("app.peizhi-zuzhileixing",{url:"/peizhi-zuzhileixing",title:"组织类型管理",templateUrl:d.basepath("peizhi-zuzhileixing.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","zuzhileixingCtrl"),controller:"zuzhileixingCtrl"}).state("app.peizhi-shangbaomuban",{url:"/peizhi-shangbaomuban",title:"事项上报模板",templateUrl:d.basepath("peizhi-shangbaomuban.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","eventTemplateCtrl"),controller:"eventTemplateCtrl"}).state("app.statistic-basicfound",{url:"/statistic-basicfound",title:"居民信息统计",templateUrl:d.basepath("statistic-basicfound.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","scBasicfoundCtrl"),controller:"scBasicfoundCtrl"}).state("app.statistic-housesInfo",{url:"/statistic-housesInfo",title:"房屋信息统计",templateUrl:d.basepath("statistic-housesInfo.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","schousesInfoCtrl"),controller:"schousesInfoCtrl"}).state("app.statistic-vehicleInfo",{url:"/statistic-vehicleInfo",title:"车辆信息统计",templateUrl:d.basepath("statistic-vehicleInfo.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","scvehicleInfoCtrl"),controller:"scvehicleInfoCtrl"}).state("app.statistic-infoUpload",{url:"/statistic-infoUpload",title:"信息上报统计",templateUrl:d.basepath("statistic-infoUpload.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","scInfoUploadCtrl"),controller:"scInfoUploadCtrl"}).state("app.tongji-maodunjiufen",{url:"/tongji-maodunjiufen",title:"矛盾纠纷统计",templateUrl:d.basepath("tongji-maodunjiufen.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","maodunjiufenCtrl"),controller:"maodunjiufenCtrl"}).state("app.tongji-xinfangtaizhang",{url:"/tongji-xinfangtaizhang",title:"信访台账统计",templateUrl:d.basepath("tongji-xinfangtaizhang.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","xinfangtaizhangCtrl"),controller:"xinfangtaizhangCtrl"}).state("app.tongji-gonganjingqing",{url:"/tongji-gonganjingqing",title:"公安警情统计",templateUrl:d.basepath("tongji-gonganjingqing.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","gonganjingqingCtrl"),controller:"gonganjingqingCtrl"}).state("app.tongji-shengchanyinhuan",{url:"/tongji-shengchanyinhuan",title:"生产隐患统计",templateUrl:d.basepath("tongji-shengchanyinhuan.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","shengchanyinhuanCtrl"),controller:"shengchanyinhuanCtrl"}).state("app.tongji-guanhuaiduixiang",{url:"/tongji-guanhuaiduixiang",title:"关怀对象统计",templateUrl:d.basepath("tongji-guanhuaiduixiang.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","guanhuaiduixiangCtrl"),controller:"guanhuaiduixiangCtrl"}).state("app.tongji-yuanluoxinxi",{url:"/tongji-yuanluoxinxi",title:"院落信息统计",templateUrl:d.basepath("tongji-yuanluoxinxi.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","yuanluoxinxiCtrl"),controller:"yuanluoxinxiCtrl"}).state("app.tongji-teshurenqunfuwu",{url:"/tongji-teshurenqunfuwu",title:"特殊人群服务统计",templateUrl:d.basepath("tongji-teshurenqunfuwu.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","teshurenqunfuwuCtrl"),controller:"teshurenqunfuwuCtrl"}).state("app.tongji-guanhuaiduixiangfuwu",{url:"/tongji-guanhuaiduixiangfuwu",title:"关怀对象服务统计",templateUrl:d.basepath("tongji-guanhuaiduixiangfuwu.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","guanhuaiduixiangfuwuCtrl"),controller:"guanhuaiduixiangfuwuCtrl"}).state("app.tongji-danweixunchangfuwu",{url:"/tongji-danweixunchangfuwu",title:"单位巡场服务统计",templateUrl:d.basepath("tongji-danweixunchangfuwu.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","danweixunchangfuwuCtrl"),controller:"danweixunchangfuwuCtrl"}).state("app.roles",{url:"/roles",title:"角色菜单配置",templateUrl:d.basepath("roles.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","rolesCtrl"),controller:"rolesCtrl"}).state("app.acounts",{url:"/acounts",title:"用户角色分配",templateUrl:d.basepath("acounts.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","acountsCtrl"),controller:"acountsCtrl"}).state("app.menus",{url:"/menus",title:"菜单管理",templateUrl:d.basepath("menus.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","menusCtrl"),controller:"menusCtrl"}).state("app.addChangeUrl",{url:"/addChangeUrl",title:"url中转设置",templateUrl:d.basepath("addChangeUrl.html"),resolve:d.resolveFor("ngGrid","ngDialog","localytics.directives","addChangeUrlCtrl"),controller:"addChangeUrlCtrl"}).state("page",{url:"/page",templateUrl:"app/pages/page.html",resolve:d.resolveFor("modernizr","icons"),controller:["$rootScope",function(a){a.app.layout.isBoxed=!1}]}).state("page.login",{url:"/login",title:"Login",templateUrl:"app/pages/login.html",controller:"LoginFormController"}).state("page.register",{url:"/register",title:"Register",templateUrl:"app/pages/register.html"}).state("page.recover",{url:"/recover",title:"Recover",templateUrl:"app/pages/recover.html"}).state("page.lock",{url:"/lock",title:"Lock",templateUrl:"app/pages/lock.html",controller:"lockCtrl"}).state("page.404",{url:"/404",title:"Not Found",templateUrl:"app/pages/404.html"})}]).config(["$ocLazyLoadProvider","APP_REQUIRES",function(a,b){"use strict";a.config({debug:!1,events:!0,modules:b.modules})}]).config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(a,b,c,d){"use strict";App.controller=a.register,App.directive=b.directive,App.filter=c.register,App.factory=d.factory,App.service=d.service,App.constant=d.constant,App.value=d.value}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"app/i18n/",suffix:".json"}),a.preferredLanguage("zh"),a.useLocalStorage(),a.usePostCompiling(!0)}]).config(["tmhDynamicLocaleProvider",function(a){a.localeLocationPattern("vendor/angular-i18n/angular-locale_zh.js")}]).config(["cfpLoadingBarProvider",function(a){a.includeBar=!0,a.includeSpinner=!1,a.latencyThreshold=500,a.parentSelector=".wrapper > section"}]).config(["$tooltipProvider",function(a){a.options({appendToBody:!0})}]);var ctrlPath="app/controller/";App.constant("APP_COLORS",{primary:"#5d9cec",success:"#27c24c",info:"#23b7e5",warning:"#ff902b",danger:"#f05050",inverse:"#131e26",green:"#37bc9b",pink:"#f532e5",purple:"#7266ba",dark:"#3a3f51",yellow:"#fad732","gray-darker":"#232735","gray-dark":"#3a3f51",gray:"#dde6e9","gray-light":"#e4eaec","gray-lighter":"#edf1f2"}).constant("APP_MEDIAQUERY",{desktopLG:1200,desktop:992,tablet:768,mobile:480}).constant("APP_REQUIRES",{scripts:{whirl:["vendor/whirl/dist/whirl.css"],classyloader:["vendor/jquery-classyloader/js/jquery.classyloader.min.js"],animo:["vendor/animo.js/animo.js"],fastclick:["vendor/fastclick/lib/fastclick.js"],modernizr:["vendor/modernizr/modernizr.js"],animate:["vendor/animate.css/animate.min.css"],icons:["vendor/skycons/skycons.js","vendor/fontawesome/css/font-awesome.min.css","vendor/simple-line-icons/css/simple-line-icons.css","vendor/weather-icons/css/weather-icons.min.css"],sparklines:["app/vendor/sparklines/jquery.sparkline.min.js"],wysiwyg:["vendor/bootstrap-wysiwyg/bootstrap-wysiwyg.js","vendor/bootstrap-wysiwyg/external/jquery.hotkeys.js"],slimscroll:["vendor/slimScroll/jquery.slimscroll.min.js"],screenfull:["vendor/screenfull/dist/screenfull.js"],"vector-map":["vendor/ika.jvectormap/jquery-jvectormap-1.2.2.min.js","vendor/ika.jvectormap/jquery-jvectormap-1.2.2.css"],"vector-map-maps":["vendor/ika.jvectormap/jquery-jvectormap-world-mill-en.js","vendor/ika.jvectormap/jquery-jvectormap-us-mill-en.js"],loadGoogleMapsJS:["app/vendor/gmap/load-google-maps.js"],"flot-chart":["vendor/Flot/jquery.flot.js"],"flot-chart-plugins":["vendor/flot.tooltip/js/jquery.flot.tooltip.min.js","vendor/Flot/jquery.flot.resize.js","vendor/Flot/jquery.flot.pie.js","vendor/Flot/jquery.flot.time.js","vendor/Flot/jquery.flot.categories.js","vendor/flot-spline/js/jquery.flot.spline.min.js"],"jquery-ui":["vendor/jquery-ui/ui/core.js","vendor/jquery-ui/ui/widget.js"],"jquery-ui-widgets":["vendor/jquery-ui/ui/core.js","vendor/jquery-ui/ui/widget.js","vendor/jquery-ui/ui/mouse.js","vendor/jquery-ui/ui/draggable.js","vendor/jquery-ui/ui/droppable.js","vendor/jquery-ui/ui/sortable.js","vendor/jqueryui-touch-punch/jquery.ui.touch-punch.min.js"],moment:["vendor/moment/min/moment-with-locales.min.js"],inputmask:["vendor/jquery.inputmask/dist/jquery.inputmask.bundle.min.js"],flatdoc:["vendor/flatdoc/flatdoc.js"],codemirror:["vendor/codemirror/lib/codemirror.js","vendor/codemirror/lib/codemirror.css"],"codemirror-modes-web":["vendor/codemirror/mode/javascript/javascript.js","vendor/codemirror/mode/xml/xml.js","vendor/codemirror/mode/htmlmixed/htmlmixed.js","vendor/codemirror/mode/css/css.js"],taginput:["vendor/bootstrap-tagsinput/dist/bootstrap-tagsinput.css","vendor/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js"],filestyle:["vendor/bootstrap-filestyle/src/bootstrap-filestyle.js"],parsley:["vendor/parsleyjs/dist/parsley.min.js"],fullcalendar:["vendor/fullcalendar/dist/fullcalendar.min.js","vendor/fullcalendar/dist/fullcalendar.css"],gcal:["vendor/fullcalendar/dist/gcal.js"],chartjs:["vendor/Chart.js/Chart.js"],morris:["vendor/raphael/raphael.js","vendor/morris.js/morris.js","vendor/morris.js/morris.css"],"loaders.css":["vendor/loaders.css/loaders.css"],spinkit:["vendor/spinkit/css/spinkit.css"]},modules:[{name:"scvehicleInfoCtrl",files:[ctrlPath+"scvehicleInfoCtrl.js"]},{name:"schousesInfoCtrl",files:[ctrlPath+"schousesInfoCtrl.js"]},{name:"scBasicfoundCtrl",files:[ctrlPath+"scBasicfoundCtrl.js"]},{name:"scInfoUploadCtrl",files:[ctrlPath+"scInfoUploadCtrl.js"]},{name:"todoListCtrl",files:[ctrlPath+"todoListCtrl.js"]},{name:"zizhijueseCtrl",files:[ctrlPath+"zizhijueseCtrl.js"]},{name:"addChangeUrlCtrl",files:[ctrlPath+"addChangeUrlCtrl.js"]},{name:"OwersCtrl",files:[ctrlPath+"OwersCtrl.js"]},{name:"workGroupsCtrl",files:[ctrlPath+"workGroupsCtrl.js"]},{name:"eventTemplateCtrl",files:[ctrlPath+"eventTemplateCtrl.js"]},{name:"xinxishangbaoCtrl",files:[ctrlPath+"xinxishangbaoCtrl.js"]},{name:"shixiangchuliCtrl",files:[ctrlPath+"shixiangchuliCtrl.js"]},{name:"wanggeguanliCtrl",files:[ctrlPath+"wanggeguanliCtrl.js"]},{name:"menusCtrl",files:[ctrlPath+"menusCtrl.js"]},{name:"acountsCtrl",files:[ctrlPath+"acountsCtrl.js"]},{name:"rolesCtrl",files:[ctrlPath+"rolesCtrl.js"]},{name:"zuzhileixingCtrl",files:[ctrlPath+"zuzhileixingCtrl.js"]},{name:"zizhizuzhiCtrl",files:[ctrlPath+"zizhizuzhiCtrl.js"]},{name:"yuangongguanliCtrl",files:[ctrlPath+"yuangongguanliCtrl.js"]},{name:"daibanshixiangCtrl",files:[ctrlPath+"daibanshixiangCtrl.js"]},{name:"gzlbuzhouCtrl",files:[ctrlPath+"gzlbuzhouCtrl.js"]},{name:"changzhurenkouCtrl",files:[ctrlPath+"changzhurenkouCtrl.js"]},{name:"minzhuxieshangCtrl",files:[ctrlPath+"minzhuxieshangCtrl.js"]},{name:"xieshanggongshiCtrl",files:[ctrlPath+"xieshanggongshiCtrl.js"]},{name:"juminjifenCtrl",files:[ctrlPath+"juminjifenCtrl.js"]},{name:"xinwengonggaoCtrl",files:[ctrlPath+"xinwengonggaoCtrl.js"]},{name:"zhuquqiyeCtrl",files:[ctrlPath+"zhuquqiyeCtrl.js"]},{name:"guanzhurenqunCtrl",files:[ctrlPath+"guanzhurenqunCtrl.js"]},{name:"zhongdianrenqunCtrl",files:[ctrlPath+"zhongdianrenqunCtrl.js"]},{name:"gongzuoliuCtrl",files:[ctrlPath+"gongzuoliuCtrl.js"]},{name:"renyuanguanliCtrl",files:[ctrlPath+"renyuanguanliCtrl.js"]},{name:"zuzhijiagouCtrl",files:[ctrlPath+"zuzhijiagouCtrl.js"]},{name:"shetuanguanliCtrl",files:[ctrlPath+"shetuanguanliCtrl.js"]},{name:"gangweiguanliCtrl",files:[ctrlPath+"gangweiguanliCtrl.js"]},{name:"fangwuguanliCtrl",files:[ctrlPath+"fangwuguanliCtrl.js"]},{name:"juminguanliCtrl",files:[ctrlPath+"juminguanliCtrl.js"]},{name:"cheliangguanliCtrl",files:[ctrlPath+"cheliangguanliCtrl.js"]},{name:"qiyeguanliCtrl",files:[ctrlPath+"qiyeguanliCtrl.js"]},{name:"liudongrenkouCtrl",files:[ctrlPath+"liudongrenkouCtrl.js"]},{name:"fangwuchuzuCtrl",files:[ctrlPath+"fangwuchuzuCtrl.js"]},{name:"zhongdianrenqunCtrl",files:[ctrlPath+"zhongdianrenqunCtrl.js"]},{name:"guanhuaiduixiangCtrl",files:[ctrlPath+"guanhuaiduixiangCtrl.js"]},{name:"jiufentiaojieCtrl",files:[ctrlPath+"jiufentiaojieCtrl.js"]},{name:"huanjingweishengCtrl",files:[ctrlPath+"huanjingweishengCtrl.js"]},{name:"chengguanshangbaoCtrl",files:[ctrlPath+"chengguanshangbaoCtrl.js"]},{name:"wuranyuanCtrl",files:[ctrlPath+"wuranyuanCtrl.js"]},{name:"anquanxiaofangCtrl",files:[ctrlPath+"anquanxiaofangCtrl.js"]},{name:"yichangqingkuangCtrl",files:[ctrlPath+"yichangqingkuangCtrl.js"]},{name:"shiyaoanquanCtrl",files:[ctrlPath+"shiyaoanquanCtrl.js"]},{name:"shipinjiankongCtrl",files:[ctrlPath+"shipinjiankongCtrl.js"]},{name:"tingcheguanliCtrl",files:[ctrlPath+"tingcheguanliCtrl.js"]},{name:"menjinguanliCtrl",files:[ctrlPath+"menjinguanliCtrl.js"]},{name:"lvhuaguanliCtrl",files:[ctrlPath+"lvhuaguanliCtrl.js"]},{name:"ziliaoguanliCtrl",files:[ctrlPath+"ziliaoguanliCtrl.js"]},{name:"shujucaijiCtrl",files:[ctrlPath+"shujucaijiCtrl.js"]},{name:"diantiguanliCtrl",files:[ctrlPath+"diantiguanliCtrl.js"]},{name:"xiaofangguanliCtrl",files:[ctrlPath+"xiaofangguanliCtrl.js"]},{name:"jinchukouguanliCtrl",files:[ctrlPath+"jinchukouguanliCtrl.js"]},{name:"xinwenfabuCtrl",files:[ctrlPath+"xinwenfabuCtrl.js"]},{name:"jifentiaozhengCtrl",files:[ctrlPath+"jifentiaozhengCtrl.js"]},{name:"zhiyuanzheCtrl",files:[ctrlPath+"zhiyuanzheCtrl.js"]},{name:"shixiangmubanCtrl",files:[ctrlPath+"shixiangmubanCtrl.js"]},{name:"shixiangshiliCtrl",files:[ctrlPath+"shixiangshiliCtrl.js"]},{name:"jifenguizeCtrl",files:[ctrlPath+"jifenguizeCtrl.js"]},{name:"maodunjiufenCtrl",files:[ctrlPath+"maodunjiufenCtrl.js"]},{name:"xinfangtaizhangCtrl",files:[ctrlPath+"xinfangtaizhangCtrl.js"]},{name:"gonganjingqingCtrl",files:[ctrlPath+"gonganjingqingCtrl.js"]},{name:"shengchanyinhuanCtrl",files:[ctrlPath+"shengchanyinhuanCtrl.js"]},{name:"guanhuaiduixiangCtrl",files:[ctrlPath+"guanhuaiduixiangCtrl.js"]},{name:"yuanluoxinxiCtrl",files:[ctrlPath+"yuanluoxinxiCtrl.js"]},{name:"teshurenqunfuwuCtrl",files:[ctrlPath+"teshurenqunfuwuCtrl.js"]},{name:"guanhuaiduixiangfuwuCtrl",files:[ctrlPath+"guanhuaiduixiangfuwuCtrl.js"]},{name:"danweixunchangfuwuCtrl",files:[ctrlPath+"danweixunchangfuwuCtrl.js"]},{name:"toaster",files:["vendor/angularjs-toaster/toaster.js","vendor/angularjs-toaster/toaster.css"]},{name:"localytics.directives",files:["vendor/chosen_v1.2.0/chosen.jquery.min.js","vendor/chosen_v1.2.0/chosen.min.css","vendor/angular-chosen-localytics/chosen.js"]},{name:"ngDialog",files:["vendor/ngDialog/js/ngDialog.min.js","vendor/ngDialog/css/ngDialog.min.css","vendor/ngDialog/css/ngDialog-theme-default.min.css"]},{name:"ngWig",files:["vendor/ngWig/dist/ng-wig.min.js"]},{name:"ngTable",files:["vendor/ng-table/dist/ng-table.min.js","vendor/ng-table/dist/ng-table.min.css"]},{name:"ngTableExport",files:["vendor/ng-table-export/ng-table-export.js"]},{name:"angularBootstrapNavTree",files:["vendor/angular-bootstrap-nav-tree/dist/abn_tree_directive.js","vendor/angular-bootstrap-nav-tree/dist/abn_tree.css"]},{name:"htmlSortable",files:["vendor/html.sortable/dist/html.sortable.js","vendor/html.sortable/dist/html.sortable.angular.js"]},{name:"xeditable",files:["vendor/angular-xeditable/dist/js/xeditable.js","vendor/angular-xeditable/dist/css/xeditable.css"]},{name:"angularFileUpload",files:["vendor/angular-file-upload/angular-file-upload.js"]},{name:"ngImgCrop",files:["vendor/ng-img-crop/compile/unminified/ng-img-crop.js","vendor/ng-img-crop/compile/unminified/ng-img-crop.css"]},{name:"ui.select",files:["vendor/angular-ui-select/dist/select.js","vendor/angular-ui-select/dist/select.css"]},{name:"ui.codemirror",files:["vendor/angular-ui-codemirror/ui-codemirror.js"]},{name:"angular-carousel",files:["vendor/angular-carousel/dist/angular-carousel.css","vendor/angular-carousel/dist/angular-carousel.js"]},{name:"ngGrid",files:["vendor/ng-grid/build/ng-grid.min.js","vendor/ng-grid/ng-grid.css"]},{name:"infinite-scroll",files:["vendor/ngInfiniteScroll/build/ng-infinite-scroll.js"]},{name:"ui.bootstrap-slider",files:["vendor/seiyria-bootstrap-slider/dist/bootstrap-slider.min.js","vendor/seiyria-bootstrap-slider/dist/css/bootstrap-slider.min.css","vendor/angular-bootstrap-slider/slider.js"]},{name:"ui.grid",files:["vendor/angular-ui-grid/ui-grid.min.css","vendor/angular-ui-grid/ui-grid.min.js"]},{name:"textAngularSetup",files:["vendor/textAngular/src/textAngularSetup.js"]},{name:"textAngular",files:["vendor/textAngular/dist/textAngular-rangy.min.js","vendor/textAngular/src/textAngular.js","vendor/textAngular/src/textAngularSetup.js","vendor/textAngular/src/textAngular.css"],serie:!0},{name:"angular-rickshaw",files:["vendor/d3/d3.min.js","vendor/rickshaw/rickshaw.js","vendor/rickshaw/rickshaw.min.css","vendor/angular-rickshaw/rickshaw.js"],serie:!0},{name:"angular-chartist",files:["vendor/chartist/dist/chartist.min.css","vendor/chartist/dist/chartist.js","vendor/angular-chartist.js/dist/angular-chartist.js"],serie:!0},{name:"ui.map",files:["vendor/angular-ui-map/ui-map.js"]},{name:"datatables",files:["vendor/datatables/media/css/jquery.dataTables.css","vendor/datatables/media/js/jquery.dataTables.js","vendor/angular-datatables/dist/angular-datatables.js"],serie:!0},{name:"angular-jqcloud",files:["vendor/jqcloud2/dist/jqcloud.css","vendor/jqcloud2/dist/jqcloud.js","vendor/angular-jqcloud/angular-jqcloud.js"]},{name:"angularGrid",files:["vendor/ag-grid/dist/angular-grid.css","vendor/ag-grid/dist/angular-grid.js","vendor/ag-grid/dist/theme-dark.css","vendor/ag-grid/dist/theme-fresh.css"]},{name:"ng-nestable",files:["vendor/ng-nestable/src/angular-nestable.js","vendor/nestable/jquery.nestable.js"]},{name:"akoenig.deckgrid",files:["vendor/angular-deckgrid/angular-deckgrid.js"]}]}),App.controller("FlotChartController",["$scope","ChartData","$timeout",function(a,b,c){"use strict";function d(){for(f.length>0&&(f=f.slice(1));f.length<g;){var a=f.length>0?f[f.length-1]:50,b=a+10*Math.random()-5;0>b?b=0:b>100&&(b=100),f.push(b)}for(var c=[],d=0;d<f.length;++d)c.push([d,f[d]]);return[c]}function e(){a.realTimeData=d(),c(e,30)}a.barData=b.load("server/chart/bar.json"),a.barOptions={series:{bars:{align:"center",lineWidth:0,show:!0,barWidth:.6,fill:.9}},grid:{borderColor:"#eee",borderWidth:1,
hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(a,b,c){return b+" : "+c}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{position:a.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},a.barStackeData=b.load("server/chart/barstacked.json"),a.barStackedOptions={series:{stack:!0,bars:{align:"center",lineWidth:0,show:!0,barWidth:.6,fill:.9}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(a,b,c){return b+" : "+c}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:200,position:a.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},a.splineData=b.load("server/chart/spline.json"),a.splineOptions={series:{lines:{show:!1},points:{show:!0,radius:4},splines:{show:!0,tension:.4,lineWidth:1,fill:.5}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(a,b,c){return b+" : "+c}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,max:150,tickColor:"#eee",position:a.app.layout.isRTL?"right":"left",tickFormatter:function(a){return a}},shadowSize:0},a.areaData=b.load("server/chart/area.json"),a.areaOptions={series:{lines:{show:!0,fill:.8},points:{show:!0,radius:4}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(a,b,c){return b+" : "+c}},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{min:0,tickColor:"#eee",position:a.app.layout.isRTL?"right":"left",tickFormatter:function(a){return a+" visitors"}},shadowSize:0},a.lineData=b.load("server/chart/line.json"),a.lineOptions={series:{lines:{show:!0,fill:.01},points:{show:!0,radius:4}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:function(a,b,c){return b+" : "+c}},xaxis:{tickColor:"#eee",mode:"categories"},yaxis:{position:a.app.layout.isRTL?"right":"left",tickColor:"#eee"},shadowSize:0},a.pieData=b.load("server/chart/pie.json"),a.pieOptions={series:{pie:{show:!0,innerRadius:0,label:{show:!0,radius:.8,formatter:function(a,b){return'<div class="flot-pie-label">'+Math.round(b.percent)+"%</div>"},background:{opacity:.8,color:"#222"}}}}},a.donutData=b.load("server/chart/donut.json"),a.donutOptions={series:{pie:{show:!0,innerRadius:.5}}},a.realTimeOptions={series:{lines:{show:!0,fill:!0,fillColor:{colors:["#a0e0f3","#23b7e5"]}},shadowSize:0},grid:{show:!1,borderWidth:0,minBorderMargin:20,labelMargin:10},xaxis:{tickFormatter:function(){return""}},yaxis:{min:0,max:110},legend:{show:!0},colors:["#23b7e5"]};var f=[],g=300;e(),a.$on("panel-refresh",function(b,d){console.log("Simulating chart refresh during 3s on #"+d),c(function(){a.$broadcast("removeSpinner",d),console.log("Refreshed #"+d)},3e3)}),a.$on("panel-remove",function(a,b,c){console.log("Panel #"+b+" removing"),c.resolve()}),a.$on("panel-removed",function(a,b){console.log("Panel #"+b+" removed")})}]).service("ChartData",["$resource",function(a){var b={get:{method:"GET",isArray:!0}};return{load:function(c){return a(c,{},b).get()}}}]),App.controller("LoginFormController",["$scope","$rootScope","$http","$state","serverUrls","layerAlert",function($scope,$rootScope,$http,$state,serverUrls,layerAlert){var PcService={errorResult:function(a){var b;return a?"string"==typeof a?b=a:"object"==typeof a?a.Message&&(b=a.Message):b=a+"":b=a+"",b}};$scope.account={name:"",password:"",remember:!0,require:!0};var userInfo=eval("("+localStorage.getItem("userInfo")+")");userInfo&&($scope.account.name=userInfo.count,$scope.account.password=userInfo.password),$scope.nameRequire=!1,$scope.passwordRequire=!1;var getPower=function(a,b){var c=!1;return a.DTOMenu.forEach(function(a,d){return a.StreetMenuName===b?void(c=a.Flag):void 0}),c},loadSidebarMenu=function(a){var b="server/sidebar-menu.json",c=b+"?v="+(new Date).getTime();$http.get(c).success(function(b){var c=b[0];c.Power=!0;for(var d=1;d<b.length;d++){var e=b[d];if(e.submenu&&e.submenu.length>0){e.Power=!1;for(var f=0;f<e.submenu.length;f++){var g=e.submenu[f];g.Power=getPower(a,g.sref),g.Power&&(e.Power=!0)}}else"#"===e.sref||e.submenu?e.Power=!1:e.Power=getPower(a,e.sref)}localStorage.setItem("menuItems",JSON.stringify(b))}).error(function(a,b,c,d){layerAlert.error("菜单加载出错!")})},getMyMenusJurisdiction=function(a){$http({headers:$rootScope.gHeader,method:"get",url:serverUrls.newMenurolelist+"?roleCode="+a}).success(function(a){var b=a.State.Code,c=a.State.Message;if(0===b){var d=a.Content;loadSidebarMenu(d),localStorage.setItem("MyMenusJurisdiction",JSON.stringify(d))}else layerAlert.autoclose(c)}).error(function(a){layerAlert.autoclose(PcService.errorResult(a))})},getMyRoles=function(a){$http({headers:a,method:"get",url:serverUrls.getRole}).success(function(a){var b=a.State.Code,c=a.State.Message;if(0===b){var d=a.Content;if(!(d.length>0))return layerAlert.autoclose("当前账号下，没有任何角色！"),void setTimeout(function(){$state.go("app.home")},1600);var e=d;localStorage.setItem("rolesList",JSON.stringify(e));var f=d[0];localStorage.setItem("myRoleInfo",JSON.stringify(f)),getMyMenusJurisdiction(f.RoleCode),layerAlert.autoclose("登录成功，正在获取角色菜单.."),setTimeout(function(){$state.go("app.home")},1600)}else layerAlert.autoclose(c)}).error(function(a){layerAlert.autoclose(PcService.errorResult(a))})};$scope.login=function(){$scope.nameRequire=!$scope.account.name,$scope.passwordRequire=!$scope.account.password,$scope.nameRequire||$scope.passwordRequire||($scope.listBusyPromise=$http({method:"get",url:serverUrls.residentLogin+"?name="+$scope.account.name+"&password="+$scope.account.password}).success(function(a){var b=a.State.Code,c=a.State.Message;if(0===b){var d=a.Content,e=d.Token;$rootScope.gHeader={"Content-Type":"undefined",Authorization:"Bearer "+e,Accept:"application/json"},$rootScope.pHeader={"Content-Type":"application/json",Authorization:"Bearer "+e,Accept:"application/json"};var f={gHeader:$rootScope.gHeader,pHeader:$rootScope.pHeader,name:d.Name,memberid:d.IdentityCode,picture:d.Images?d.Images:"app/img/user/08.jpg",token:e};if(localStorage.setItem("myCountInfo",JSON.stringify(f)),$scope.account.remember){var d={count:$scope.account.name,password:$scope.account.password};localStorage.setItem("userInfo",JSON.stringify(d))}else localStorage.removeItem("userInfo");getMyRoles($rootScope.gHeader)}else layerAlert.autoclose(c)}).error(function(a){layerAlert.autoclose(PcService.errorResult(a))}))}}]),App.controller("topNavbarCtrl",["$scope","$rootScope","$interval","$http","serverUrls","layerAlert",function(a,b,c,d,e,f){a.list=[];var g={currentPage:1,length:9999,verify:!1,history:!1},h=function(){var c=e.allWorkerscount;d({headers:b.gHeader,method:"get",url:c}).success(function(b){var c=b.State.Code,d=b.State.Message;0===c?a.list=b.Content:f.autoclose(d)}).error(function(a){f.autoclose(PcService.errorResult(a))})},i=function(){var c=e.eventFeedbackcount,h="?";if(g){for(var i in g)h+=i+"="+g[i]+"&";c+=h.substring(0,h.length-1)}d({headers:b.gHeader,method:"get",url:c}).success(function(b){var c=b.State.Code,d=b.State.Message;0===c?a.uplist=b.Content:f.autoclose(d)}).error(function(a){f.autoclose(PcService.errorResult(a))})};h(),i(),c(function(){h(),i()},6e4)}]),App.controller("lockCtrl",["$rootScope","$scope","$state","layerAlert",function($rootScope,$scope,$state,layerAlert){$scope.lock={password:""},$scope.unLockScreen=function(){var userInfo=eval("("+localStorage.getItem("userInfo")+")");if($scope.lock.password&&userInfo){var password=userInfo.password;password===$scope.lock.password&&(layerAlert.autoclose("解锁成功,即将返回首页！"),setTimeout(function(){$state.go("app.home")},1e3))}}}]),App.controller("RegisterFormController",["$scope","$http","$state",function(a,b,c){a.account={},a.authMsg="",a.register=function(){a.authMsg="",a.registerForm.$valid?b.post("api/account/register",{email:a.account.email,password:a.account.password}).then(function(b){b.account?c.go("app.dashboard"):a.authMsg=b},function(b){a.authMsg="Server Request Error"}):(a.registerForm.account_email.$dirty=!0,a.registerForm.account_password.$dirty=!0,a.registerForm.account_agreed.$dirty=!0)}}]),App.filter("propsFilter",function(){return function(a,b){var c=[];return angular.isArray(a)?a.forEach(function(a){for(var d=!1,e=Object.keys(b),f=0;f<e.length;f++){var g=e[f],h=b[g].toLowerCase();if(-1!==a[g].toString().toLowerCase().indexOf(h)){d=!0;break}}d&&c.push(a)}):c=a,c}}),App.controller("CalendarController",["$scope",function(a){"use strict";function b(b,c){var d=$("#remove-after-drop");b.fullCalendar({isRTL:a.app.layout.isRTL,header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},buttonIcons:{prev:" fa fa-caret-left",next:" fa fa-caret-right"},buttonText:{today:"today",month:"month",week:"week",day:"day"},editable:!0,droppable:!0,drop:function(a,c){var e=$(this),f=e.data("calendarEventObject");if(f){var g=$.extend({},f);g.start=a,g.allDay=c,g.backgroundColor=e.css("background-color"),g.borderColor=e.css("border-color"),b.fullCalendar("renderEvent",g,!0),d.is(":checked")&&e.remove()}},eventDragStart:function(a,b,c){e=a},events:c})}function c(a){var b=$(".external-events");new f(b.children("div"));var c="#f6504d",d=$(".external-event-add-btn"),g=$(".external-event-name"),h=$(".external-event-color-selector .circle");$(".external-events-trash").droppable({accept:".fc-event",activeClass:"active",hoverClass:"hovered",tolerance:"touch",drop:function(b,c){if(e){var d=e.id||e._id;a.fullCalendar("removeEvents",d),c.draggable.remove(),e=null}}}),h.click(function(a){a.preventDefault();var b=$(this);c=b.css("background-color"),h.removeClass("selected"),b.addClass("selected")}),d.click(function(a){a.preventDefault();var d=g.val();if(""!==$.trim(d)){var e=$("<div/>").css({"background-color":c,"border-color":c,color:"#fff"}).html(d);b.prepend(e),new f(e),g.val("")}})}function d(){var a=new Date,b=a.getDate(),c=a.getMonth(),d=a.getFullYear();return[{title:"All Day Event",start:new Date(d,c,1),backgroundColor:"#f56954",borderColor:"#f56954"},{title:"Long Event",start:new Date(d,c,b-5),end:new Date(d,c,b-2),backgroundColor:"#f39c12",borderColor:"#f39c12"},{title:"Meeting",start:new Date(d,c,b,10,30),allDay:!1,backgroundColor:"#0073b7",borderColor:"#0073b7"},{title:"Lunch",start:new Date(d,c,b,12,0),end:new Date(d,c,b,14,0),allDay:!1,backgroundColor:"#00c0ef",borderColor:"#00c0ef"},{title:"Birthday Party",start:new Date(d,c,b+1,19,0),end:new Date(d,c,b+1,22,30),allDay:!1,backgroundColor:"#00a65a",borderColor:"#00a65a"},{title:"Open Google",start:new Date(d,c,28),end:new Date(d,c,29),url:"//google.com/",backgroundColor:"#3c8dbc",borderColor:"#3c8dbc"}]}if($.fn.fullCalendar){var e=null,f=function(a){a&&a.each(function(){var a=$(this),b={title:$.trim(a.text())};a.data("calendarEventObject",b),a.draggable({zIndex:1070,revert:!0,revertDuration:0})})};$(function(){var a=$("#calendar"),e=d();c(a),b(a,e)})}}]),App.controller("ChartistController",["$scope",function(a){"use strict";a.lineData={labels:["Monday","Tuesday","Wednesday","Thursday","Friday"],series:[[12,9,7,8,5],[2,1,3.5,7,3],[1,3,4,5,6]]},a.lineOptions={fullWidth:!0,height:220,chartPadding:{right:40}},a.barBipolarOptions={high:10,low:-10,height:220,axisX:{labelInterpolationFnc:function(a,b){return b%2===0?a:null}}},a.barBipolarData={labels:["W1","W2","W3","W4","W5","W6","W7","W8","W9","W10"],series:[[1,2,4,8,6,-2,-1,-4,-6,-2]]},a.barHorizontalData={labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],series:[[5,4,3,7,5,10,3],[3,2,9,5,4,6,4]]},a.barHorizontalOptions={seriesBarDistance:10,reverseData:!0,horizontalBars:!0,height:220,axisY:{offset:70}};var b=0,c=80,d=500;a.smilData={labels:["1","2","3","4","5","6","7","8","9","10","11","12"],series:[[12,9,7,8,5,4,6,2,3,3,4,6],[4,5,3,7,3,5,5,3,4,4,5,5],[5,3,4,5,6,3,3,4,5,6,3,4],[3,4,5,6,7,6,4,5,6,7,6,3]]},a.smilOptions={low:0,height:260},a.smilEvents={created:function(){b=0},draw:function(a){if(b++,"line"===a.type)a.element.animate({opacity:{begin:b*c+1e3,dur:d,from:0,to:1}});else if("label"===a.type&&"x"===a.axis)a.element.animate({y:{begin:b*c,dur:d,from:a.y+100,to:a.y,easing:"easeOutQuart"}});else if("label"===a.type&&"y"===a.axis)a.element.animate({x:{begin:b*c,dur:d,from:a.x-100,to:a.x,easing:"easeOutQuart"}});else if("point"===a.type)a.element.animate({x1:{begin:b*c,dur:d,from:a.x-10,to:a.x,easing:"easeOutQuart"},x2:{begin:b*c,dur:d,from:a.x-10,to:a.x,easing:"easeOutQuart"},opacity:{begin:b*c,dur:d,from:0,to:1,easing:"easeOutQuart"}});else if("grid"===a.type){var e={begin:b*c,dur:d,from:a[a.axis+"1"]-30,to:a[a.axis+"1"],easing:"easeOutQuart"},f={begin:b*c,dur:d,from:a[a.axis+"2"]-100,to:a[a.axis+"2"],easing:"easeOutQuart"},g={};g[a.axis+"1"]=e,g[a.axis+"2"]=f,g.opacity={begin:b*c,dur:d,from:0,to:1,easing:"easeOutQuart"},a.element.animate(g)}}},a.pathData={labels:["Mon","Tue","Wed","Thu","Fri","Sat"],series:[[1,5,2,5,4,3],[2,3,4,8,1,2],[5,4,3,2,1,.5]]},a.pathOptions={low:0,showArea:!0,showPoint:!1,fullWidth:!0,height:260},a.pathEvents={draw:function(a){("line"===a.type||"area"===a.type)&&a.element.animate({d:{begin:2e3*a.index,dur:2e3,from:a.path.clone().scale(1,0).translate(0,a.chartRect.height()).stringify(),to:a.path.clone().stringify(),easing:Chartist.Svg.Easing.easeOutQuint}})}}}]),App.controller("CodeEditorController",["$scope","$http","$ocLazyLoad",function(a,b,c){function d(a){var b=a.split(".");switch(b=b?b[b.length-1]:""){case"html":return"htmlmixed";case"css":return"css";default:return"javascript"}}a.editorThemes=["3024-day","3024-night","ambiance-mobile","ambiance","base16-dark","base16-light","blackboard","cobalt","eclipse","elegant","erlang-dark","lesser-dark","mbo","mdn-like","midnight","monokai","neat","neo","night","paraiso-dark","paraiso-light","pastel-on-dark","rubyblue","solarized","the-matrix","tomorrow-night-eighties","twilight","vibrant-ink","xq-dark","xq-light"],a.editorOpts={mode:"javascript",lineNumbers:!0,matchBrackets:!0,theme:"mbo",viewportMargin:1/0},a.refreshEditor=0,a.loadTheme=function(){var b="vendor/codemirror/theme/";c.load(b+a.editorOpts.theme+".css"),a.refreshEditor=!a.refreshEditor},a.loadTheme(a.editorOpts.theme),a.code="// Open a file from the left menu \n// It will be requested to the server and loaded into the editor\n// Also try adding a New File from the toolbar\n";var e;a.handle_filetree=function(c){e=c;var f="server/editor/",g=!!c.children.length;console.log("You selected: "+c.label+" - isFolder? "+g),g||b.get(f+c.path).success(function(b){console.log("Loaded.. "+c.path),a.code=b,a.editorOpts.mode=d(c.path),console.log("Mode is: "+a.editorOpts.mode)})};var f;f=a.filetree={},a.new_filetree=function(){var a;return a=f.get_selected_branch(),a&&0===a.children.length&&(a=f.get_parent_branch(a)),f.add_branch(a,{label:"another.html",path:"source/another.html"})}}]).service("LoadTreeService",["$resource",function(a){return a("server/editor/filetree.json")}]),App.controller("AppController",["$rootScope","$scope","$http","$state","$translate","$window","$localStorage","$timeout","toggleStateService","colors","browser","cfpLoadingBar","layerAlert","serverUrls",function($rootScope,$scope,$http,$state,$translate,$window,$localStorage,$timeout,toggle,colors,browser,cfpLoadingBar,layerAlert,serverUrls){"use strict";var myCountInfo=eval("("+localStorage.getItem("myCountInfo")+")"),myRoleInfo=eval("("+localStorage.getItem("myRoleInfo")+")"),rolesList=eval("("+localStorage.getItem("rolesList")+")"),MyMenusJurisdiction=eval("("+localStorage.getItem("MyMenusJurisdiction")+")");myCountInfo?($rootScope.gHeader=myCountInfo.gHeader,$rootScope.pHeader=myCountInfo.pHeader,$rootScope.myRoleInfo=myRoleInfo,$rootScope.rolesList=rolesList,$rootScope.MyMenusJurisdiction=MyMenusJurisdiction,$rootScope.user.name=myCountInfo.name,$rootScope.user.memberid=myCountInfo.memberid,$rootScope.user.picture=myCountInfo.picture?myCountInfo.picture:"app/img/user/08.jpg",$rootScope.user.job=myRoleInfo.RoleName):(layerAlert.autoclose("登录已过期,请重新登录!"),setTimeout(function(){$state.go("page.login")},1500));var getPower=function(a,b){var c=!1;return a.DTOMenu.forEach(function(a,d){return a.StreetMenuName===b?void(c=a.Flag):void 0}),c},loadSidebarMenu=function(a,b){var c="server/sidebar-menu.json",d=c+"?v="+(new Date).getTime();$http.get(d).success(function(c){var d=c[0];d.Power=!0;for(var e=1;e<c.length;e++){var f=c[e];if(f.submenu&&f.submenu.length>0){f.Power=!1;for(var g=0;g<f.submenu.length;g++){var h=f.submenu[g];h.Power=getPower(a,h.sref),h.Power&&(f.Power=!0)}}else"#"===f.sref||f.submenu?f.Power=!1:f.Power=getPower(a,f.sref)}localStorage.setItem("menuItems",JSON.stringify(c)),b&&($rootScope.menuItems=c,$timeout(function(){$rootScope.isLoading=!1,$state.go("app.home")},600))}).error(function(a,b,c,d){layerAlert.error("菜单加载出错!")})},getMyMenusJurisdiction=function(a,b){$rootScope.isLoading=!0,$http({headers:$rootScope.gHeader,method:"get",url:serverUrls.newMenurolelist+"?roleCode="+a}).success(function(a){var c=a.State.Code,d=a.State.Message;if(0===c){var e=a.Content;loadSidebarMenu(e,b),localStorage.setItem("MyMenusJurisdiction",JSON.stringify(e))}else layerAlert.autoclose(d)}).error(function(a){layerAlert.autoclose(a+"")})};$rootScope.changRole=function(x){var myRoleInfo=eval("("+localStorage.getItem("myRoleInfo")+")");return myRoleInfo.RoleCode===x.RoleCode?void layerAlert.autoclose("已经是当前角色！"):(localStorage.setItem("myRoleInfo",JSON.stringify(x)),getMyMenusJurisdiction(x.RoleCode,!0),$rootScope.user.job=x.RoleDescription,void 0)},$rootScope.app.layout.horizontal="app-h"==$rootScope.$stateParams.layout;var thBar;$rootScope.$on("$stateChangeStart",function(a,b,c,d,e){$(".wrapper > section").length&&(thBar=$timeout(function(){cfpLoadingBar.start()},0))}),$rootScope.$on("$stateChangeSuccess",function(a,b,c,d,e){a.targetScope.$watch("$viewContentLoaded",function(){$timeout.cancel(thBar),cfpLoadingBar.complete()})}),$rootScope.$on("$stateNotFound",function(a,b,c,d){console.log(b.to),console.log(b.toParams),console.log(b.options)}),$rootScope.$on("$stateChangeError",function(a,b,c,d,e,f){console.log(f)}),$rootScope.$on("$stateChangeSuccess",function(a,b,c,d,e){$window.scrollTo(0,0),$rootScope.currTitle=$state.current.title}),$rootScope.currTitle=$state.current.title,$rootScope.pageTitle=function(){var a=$rootScope.app.name+"-"+($rootScope.currTitle||$rootScope.app.description);return document.title=a,a},$rootScope.$watch("app.layout.isCollapsed",function(a,b){a===!1&&$rootScope.$broadcast("closeSidebarMenu")}),angular.isDefined($localStorage.layout)?$scope.app.layout=$localStorage.layout:$localStorage.layout=$scope.app.layout,$rootScope.$watch("app.layout",function(){$localStorage.layout=$scope.app.layout},!0),$scope.colorByName=colors.byName,$scope.toggleUserBlock=function(){$scope.$broadcast("toggleUserBlock")},$scope.exitStstem=function(){layerAlert.checkone("选择操作",function(){var userInfo=eval("("+localStorage.getItem("userInfo")+")");localStorage.clear(),localStorage.setItem("userInfo",JSON.stringify(userInfo)),$state.go("page.login")},function(){},"确定","取消",!0,!0,"确定要退出当前系统吗?")},$scope.language={listIsOpen:!1,available:{en:"English",es_AR:"Español",zh:"chinese"},init:function(){var a=$translate.proposedLanguage()||$translate.use(),b=$translate.preferredLanguage();$scope.language.selected=$scope.language.available[a||b]},set:function(a,b){$translate.use(a),$scope.language.selected=$scope.language.available[a],$scope.language.listIsOpen=!$scope.language.listIsOpen}},$scope.language.init(),toggle.restoreState($(document.body)),$rootScope.cancel=function(a){a.stopPropagation()}}]),App.controller("SidebarController",["$rootScope","$scope","$state","$http","$timeout","Utils","layerAlert",function($rootScope,$scope,$state,$http,$timeout,Utils,layerAlert){function closeAllBut(a){a+="";for(var b in collapseList)(0>a||a.indexOf(b)<0)&&(collapseList[b]=!0)}function isChild(a){return"string"==typeof a&&!(a.indexOf("-")<0)}var collapseList=[];$rootScope.$watch("app.layout.asideHover",function(a,b){b===!1&&a===!0&&closeAllBut(-1)});var isActive=function(a){if(a){if(a.sref&&"#"!=a.sref)return $state.is(a.sref)||$state.includes(a.sref);var b=!1;return angular.forEach(a.submenu,function(a,c){isActive(a)&&(b=!0)}),b}};$scope.getMenuItemPropClasses=function(a){return(a.heading?"nav-heading":"")+(isActive(a)?" active":"")},$rootScope.menuItems=eval("("+localStorage.getItem("menuItems")+")"),$scope.addCollapse=function(a,b){collapseList[a]=$rootScope.app.layout.asideHover?!0:!isActive(b)},$scope.isCollapse=function(a){return collapseList[a]},$scope.toggleCollapse=function(a,b){return Utils.isSidebarCollapsed()||$rootScope.app.layout.asideHover?!0:(angular.isDefined(collapseList[a])?$scope.lastEventFromChild||(collapseList[a]=!collapseList[a],closeAllBut(a)):b&&closeAllBut(-1),$scope.lastEventFromChild=isChild(a),$rootScope.pageTitle(),!0)}}]),App.controller("AbnTestController",["$scope","$timeout","$resource",function(a,b,c){var d=function(b){return a.output="当前选择: "+b.label,a.output},e=[{label:"青龙街道",children:[{label:"致强社区",children:[{label:"西林豫府(ACD区)",onSelect:d},{label:"青铁家园",onSelect:d},{label:"青龙社区",onSelect:d},{label:"青兴苑",onSelect:d},{label:"致强怡园",onSelect:d}]}]}];a.my_data=e;var f;a.my_tree=f={},a.try_adding_a_branch=function(){var a;return a=f.get_selected_branch(),f.add_branch(a,{label:"New Branch",data:{something:42,"else":43}})}}]),App.controller("UserBlockController",["$scope",function(a){a.userBlockVisible=!0,a.$on("toggleUserBlock",function(b,c){a.userBlockVisible=!a.userBlockVisible})}]),App.directive("href",function(){return{restrict:"A",compile:function(a,b){return function(a,c){(b.ngClick||""===b.href||"#"===b.href)&&(c.hasClass("dropdown-toggle")||c.on("click",function(a){a.preventDefault(),a.stopPropagation()}))}}}}),App.directive("animateEnabled",["$animate",function(a){return{link:function(b,c,d){b.$watch(function(){return b.$eval(d.animateEnabled,b)},function(b){a.enabled(!!b,c)})}}}]);var ChartJS=function(a){return{restrict:"A",scope:{data:"=",options:"=",id:"@",width:"=",height:"=",resize:"=",chart:"@",segments:"@",responsive:"=",tooltip:"=",legend:"="},link:function(b,c){var d=c[0].getContext("2d"),e=!1;b.size=function(){b.width<=0?(c.width(c.parent().width()),d.canvas.width=c.width()):(d.canvas.width=b.width||d.canvas.width,e=!0),b.height<=0?(c.height(c.parent().height()),d.canvas.height=d.canvas.width/2):(d.canvas.height=b.height||d.canvas.height,e=!0)},b.$watch("data",function(h,i){f&&f.destroy(),h&&(b.chart&&(a=b.chart),e&&(b.size(),g=new Chart(d)),(b.responsive||b.resize)&&(b.options.responsive=!0),void 0!==b.responsive&&(b.options.responsive=b.responsive),f=g[a](b.data,b.options),f.update(),b.legend&&angular.element(c[0]).parent().after(f.generateLegend()))},!0),b.$watch("tooltip",function(a,b){if(f&&f.draw(),void 0!==a&&f.segments&&!(!isFinite(a)||a>=f.segments.length||0>a)){var c=f.segments[a];c.save(),c.fillColor=c.highlightColor,f.showTooltip([c]),c.restore()}},!0),b.size();var f,g=new Chart(d)}}};App.directive("chartjs",function(){return ChartJS()}),App.directive("linechart",function(){return ChartJS("Line")}),App.directive("barchart",function(){return ChartJS("Bar")}),App.directive("radarchart",function(){return ChartJS("Radar")}),App.directive("polarchart",function(){return ChartJS("PolarArea")}),App.directive("piechart",function(){return ChartJS("Pie")}),App.directive("doughnutchart",function(){return ChartJS("Doughnut")}),App.directive("donutchart",function(){return ChartJS("Doughnut")}),App.directive("classyloader",["$timeout","Utils",function(a,b){"use strict";var c=$(window),d="js-is-in-view";return{restrict:"A",link:function(e,f,g){function h(a,c){var e=-20;!a.hasClass(d)&&b.isInView(a,{topoffset:e})&&i(a,c)}function i(a,b){a.ClassyLoader(b).addClass(d)}a(function(){var a=$(f),b=a.data();b&&(b.triggerInView?(c.scroll(function(){h(a,b)}),h(a,b)):i(a,b))},0)}}}]),App.directive("formlist",function(a,b,c){"use strict";var d='<form class="form-horizontal" ng-submit="formSubmit()" cg-busy="ngDialogPromise"><div class="form-group" ng-if="!field.isHide" ng-repeat="field in fieldsData" ng-class="{\'form-inline\':field.editor==\'complex\'||field.editor==\'text-normal\'||field.editor===\'normal-check\'||field.editor==\'_complex\',\'col-lg-6\':column===2&&field.column!==1}" ng-if="!field.shouldHide"><label class="control-label" for="id_{{field.name}}" ng-bind="field.nameDisplay" ng-class="{\'col-lg-4\':column===2&&field.column!==1,\'col-lg-3\':column!==2&&field.column!==1,\'col-lg-2\':field.column===1}"></label><div ng-class="{\'col-lg-8\':column===2&&field.column!==1,\'col-lg-9\':column!==2&&field.column!==1,\'col-lg-10\':field.column===1,\'mycheckbox-inline\':field.editor===\'multiselect\'}"><!--普通输入框--><input ng-if="field.editor===\'normal\'" ng-disabled="field.editable" ng-model="field.value" id="id_{{field.name}}" placeholder="请输入{{field.nameDisplay}}" ng-required="field.required" type="text" class="form-control" /><!--车牌号--><input ng-if="field.editor===\'plate-number\'" ng-disabled="field.editable" ng-model="field.value" id="id_{{field.name}}" placeholder="{{field.noteValue}}" ng-required="field.required" type="text" class="form-control" /><!--时间选择输入框--><input ng-if="field.editor===\'time-picker\'" ng-disabled="field.editable" ng-model="field.value" id="id_{{field.name}}"placeholder="请选择{{field.nameDisplay}}" ng-required="field.required" type="text" class="form-control"  name="date" datepicker-popup="{{format}}" is-open="opened" min-date="minDate" datepicker-options="dateOptions" close-text="Close"><!--普通下拉菜单--><select ng-if="field.editor===\'select\'" ng-disabled="field.editable" ng-model="field.value" id="id_{{field.name}}" ng-required="field.required" class="form-control" ng-options="x.Id as x.Name for x in field.opts"></select><!--文件上传--><input ng-if="field.editor===\'file-upload\'" ng-model="field.value" filestyle="" type="file" data-button-text="Single" data-class-button="btn btn-default" data-classinput="form-control inline" nv-file-select="" uploader="uploader" class="form-control" /><!--单选输入框--><div ng-if="field.editor===\'radio\'" class="form-inline"><label class="checkbox-inline" ng-repeat="x1 in field.opts"><input name="name_{{field.Id}}" type="radio" ng-model="field.value" value="{{x1.Id}}" /> {{x1.Name}}</label></div><!--带搜索下拉菜单--><select ng-if="field.editor===\'search-select\'" ng-disabled="field.editable" chosen="" ng-model="field.value" id="id_{{field.name}}" ng-required="field.required" class="form-control chosen-select" ng-options="x.Id as x.Name for x in field.opts"></select><!--图片展示--><div class="form-inline form-lineheight" ng-if="field.editor===\'photo\'"><ul class="list-group my-list-group"><li ng-if="!mySplit(field.value) || mySplit(field.value).length===0" class="list-group-item col-lg-4">暂无图片</li><li ng-repeat="a in mySplit(field.value)" class="list-group-item col-lg-4"><img class="my-field-photo" ng-src="{{a}}" /></li></ul></div><!--多选下拉菜单--><ui-select ng-if="field.editor===\'multi-select\'"ng-disabled="field.editable" multiple="" ng-model="field.value" theme="bootstrap" ng-required="field.required"><ui-select-match placeholder="请选择{{field.nameDisplay}}">{{$item.Name}}</ui-select-match><ui-select-choices repeat="x in field.opts">{{x.Name}}</ui-select-choices> </ui-select><!--普通富文本输入框--><textarea ng-if = "field.editor===\'textarea\'" ng-disabled="field.editable" ng-model="field.value" id = "id_{{field.name}}" placeholder = "请输入{{field.nameDisplay}}" ng-required="field.required" class ="form-control"/><!--联动下拉选择框--><div class="form-inline form-lineheight" ng-if="field.editor===\'four-select\'"><select ng-disabled="field.editable" ng-change="choseCourtyard(field)" ng-options="x.Id as x.Name for x in field.opts1" ng-model="field.value1" class="form-control" ng-required="field.required"></select>&nbsp;<select ng-disabled="field.editable" ng-change="choseBuild(field)" ng-options="x.Id as x.Name for x in field.opts2" ng-model="field.value2" class="form-control" ng-required="field.required"></select>&nbsp;<select ng-disabled="field.editable" ng-change="choseUnit(field)" ng-options="x.Id as x.Name for x in field.opts3" ng-model="field.value3" class="form-control" ng-required="field.required"></select>&nbsp;<select ng-disabled="field.editable" ng-change="choseRoom(field)" ng-options="x.Id as x.Name for x in field.opts4" ng-model="field.value4" class="form-control" ng-required="field.required"></select></div><!--输入框混搭--><div class="form-inline form-lineheight" ng-if="field.editor===\'normal-select\'"><input ng-disabled="field.editable" ng-model="field.value" id="id_{{field.name}}" ng-required="field.required" type="text" class="form-control form-autowidth" />&nbsp;<select ng-model="field.value1" class="form-control" ng-options="x.Id as x.Name for x in field.opts"></select>&nbsp;{{field.lastName}}</div><!--多选组--><div ng-if="field.editor===\'multiselect\'" class="form-inline"><div class="checkbox checkbox-inline c-checkbox" ng-repeat="x in field.opts"><label><input type="checkbox" ng-model="x.Checked"><span class="fa fa-check"></span> {{x.Name}}</label></div></div><!--文本带多选框混搭--><div ng-if="field.editor===\'normal-check\'" class="form-inline form-lineheight"><input ng-disabled="field.editable" ng-model="field.value" id="id_{{field.name}}" placeholder = "请输入{{field.nameDisplay}}" ng-required="field.required" type="text" class="form-control form-halfwidth" />&nbsp;<input class="form-control" type="checkbox" ng-checked="{{field.checked}}" id="label_{{field.name}}"/><label class="control-label" for="label_{{field.name}}">不显示</label></div><!--层数起止输入框--><div ng-if="field.editor===\'_complex\'"><label class="complex"><input class="form-control form-autowidth" placeholder="层" type="text" ng-required="field.required" ng-model="field.values[0]" />&nbsp;—&nbsp;<input class="form-control form-autowidth" placeholder="层" type="text" ng-required="field.required" ng-model="field.values[1]" />&nbsp;</label></div><!--层户数单选输入框--><div ng-if="field.editor===\'complex\'"><label class="complex"><input class="form-control form-autowidth" placeholder="层" type="text" ng-required="field.required" ng-model="field.values[0]" />&nbsp;—&nbsp;<input class="form-control form-autowidth" placeholder="层" type="text" ng-required="field.required" ng-model="field.values[1]" />&nbsp;每层&nbsp;<input class="form-control form-autowidth" placeholder="户" type="text" ng-required="field.required" ng-model="field.values[2]" /></label></div></div></div><div class="form-group"><div class="col-lg-offset-3 col-lg-9"><button type="submit" class="btn btn-success">确 定</button> <button type="button" ng-click="closeDialog(0)" class="btn btn-default">取 消</button></div></div></form>';return{restrict:"ACEM",template:d,replace:!0,scope:{fieldsData:"=",formSubmit:"&",closeDialog:"&",column:"="},link:function(d){var e=[{Id:0,Name:"请选择"}];d.mySplit=function(a){var b=[];return a&&(b=a.split(",")),b};var f=[{Id:0,RoomNumber:"请选择"}];d.choseCourtyard=function(f){d.ngDialogPromise=a({method:"get",url:b.getAll+"?id="+f.value1}).success(function(a){var b=a.State.Code,f=a.State.Message;if(0===b){var g=e.concat(a.Content);d.fieldsData&&d.fieldsData.forEach(function(a,b){"HouseId"===a.name&&(a.opts2=g,a.value2=g[0]?g[0].Id:0)})}else c.autoclose(f)}).error(function(a){c.autoclose(a)})},d.choseBuild=function(f){d.ngDialogPromise=a({method:"get",url:b.getAll+"?id="+f.value2}).success(function(a){var b=a.State.Code,f=a.State.Message;if(0===b){var g=e.concat(a.Content);d.fieldsData&&d.fieldsData.forEach(function(a,b){"HouseId"===a.name&&(a.opts3=g,a.value3=g[0]?g[0].Id:0)})}else c.autoclose(f)}).error(function(a){c.autoclose(a)})},d.choseUnit=function(e){d.ngDialogPromise=a({method:"get",url:b.unitHouseList+"?id="+e.value3}).success(function(a){var b=a.State.Code,e=a.State.Message;if(0===b){var g=f.concat(a.Content);g.forEach(function(a,b){a.Name=a.RoomNumber}),d.fieldsData&&d.fieldsData.forEach(function(a,b){"HouseId"===a.name&&(a.opts4=g,a.value4=g[0]?g[0].Id:0)})}else c.autoclose(e);
}).error(function(a){c.autoclose(a)})},d.choseRoom=function(e){e.getResident&&(d.ngDialogPromise=a({method:"get",url:b.houseResident+"?id="+e.value4}).success(function(a){var b=a.State.Code,e=a.State.Message;0===b?(d.residentList=a.Content,d.residentList&&0!==d.residentList.length||c.autoclose("当前房号下暂无居民!"),d.fieldsData&&d.fieldsData.forEach(function(a,b){"ResidentId"===a.name&&(a.opts=d.residentList,a.value=d.residentList[0]?d.residentList[0].Id:0)})):c.autoclose(e)}).error(function(a){c.autoclose(a)}))}}}}),App.filter("myFilter",function(){return function(a,b){var c=[];return a.forEach(function(a,d){a.WorkNodeWorkerType===b&&c.push(a)}),c}}),App.service("PcService",["$http","$rootScope","layerAlert","PagerExtends","ngDialog","$filter",function(a,b,c,d,e,f){this.isPlateNumber=function(a){var b=!1;if(7==a.length){var c=/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/;b=c.test(a)}return b};var g=function(a){var b;return a?"string"==typeof a?b=a:"object"==typeof a?a.Message&&(b=a.Message):b=a+"":b=a+"",b};this.errorResult=g,this.fetchData=function(a,b,e,f){d.regListSpecifyPage(a,{apiUrl:b,params:e,success:function(b){a.list=b},error:function(a){c.autoclose(g(a))}},f)},this.fetchList=function(b,d,e,f,h){var i="?";if(e){for(var j in e)i+=j+"="+e[j]+"&";d+=i.substring(0,i.length-1)}b.listBusyPromise=a({headers:f?f:null,method:"get",url:d}).success(function(a){var c=a.State.Code;a.State.Message;0===c&&(b.list=a.Content)}).error(function(a){c.autoclose(g(a))})},this.numberToText=function(a,b){var c="";return b.forEach(function(b,d){"boolean"==typeof a&&(a=a.toString()),b.Id===a&&(c=b.Name)}),c},this.initFormList=function(a){a.forEach(function(a,b){"four-select"===a.editor?(a.value3=0,a.value4=0):"multiselect"===a.editor?(a.value=void 0!==a.originValue?a.originValue:"",a.opts.forEach(function(a,b){a.Checked=!1})):a.value=void 0!==a.originValue?a.originValue:""})},this.getFormData=function(a){var b={};return a.forEach(function(a,c){if("double-datePick"===a.editor)b[a.name1]=new Date(a.value1),b[a.name2]=new Date(a.value2);else if("time-picker"===a.editor)b[a.name]=new Date(a.value);else if("four-select"===a.editor)b[a.name]=a.value4;else if("multi-select"===a.editor){var d="";a.value.forEach(function(a,b){d+=a.Id+","}),d=d.substring(0,d.length-1),b[a.name]=d}else if("multiselect"===a.editor){var e=[];a.opts.forEach(function(a,b){if(a.Checked){var c={RoleCode:a.Code,RoleName:a.Name};e.push(c)}}),b[a.name]=e}else if("normal-select"===a.editor)switch(a.value1){case 1:b[a.name]=3600*a.value*24*1e3;break;case 2:b[a.name]=3600*a.value*1e3;break;case 3:b[a.name]=60*a.value*1e3}else b[a.name]=a.value}),b},this.bindFormData=function(a,b){b.forEach(function(b,c){if(void 0!==a[b.name])if("OccurTime"===b.name||"CreatedAt"===b.name||"UpdatedAt"===b.name||"ValidEndTime"===b.name||"ValidStartTime"===b.name)b.value=f("date")(a[b.name],"yyyy-MM-dd HH:mm");else if("multiselect"===b.editor){var d=a[b.name];d?b.opts.forEach(function(a,b){a.Checked=!1,d.forEach(function(b,c){b.RoleCode===a.Code&&(a.Checked=!0)})}):b.opts.forEach(function(a,b){a.Checked=!1})}else if("normal-select"===b.editor){var e=a[b.name];b.value=e,36e5>e?(b.value=e/6e4,b.value1=3):864e5>e?(b.value=e/36e5,b.value1=2):(b.value=e/864e5,b.value1=1)}else b.value=a[b.name]})},this.subStrDescribe=function(a,b){return b||(b=10),a&&a.length>b&&(a=a.substring(0,b)+".."),a},this.timeDo=function(a){var b;return b=36e5>a?a/6e4+"分":864e5>a?a/36e5+"时":a/864e5+"天"},this.toggleClass=function(a){return{"btn-success":2===a.OpenState||0===a.OpenState||!a.OpenState,"btn-danger":1===a.OpenState}},this.toggleLabelClass=function(a){return{"btn-success":1===a.OpenState,"btn-danger":2===a.OpenState||0===a.OpenState||!a.OpenState}},this.toggleText=function(a){var b;switch(a.OpenState){case 2:b="启用";break;case 1:b="停用";break;default:b="启用"}return b},this.stateText=function(a){var b;switch(a.OpenState){case 2:b="停用中";break;case 1:b="启用中";break;default:b="停用中"}return b},this.toggleItem=function(b,d,e){var f,h;1===d.OpenState?(h=2,f="停用"):(h=1,f="启用"),(2===h||1===h)&&(b.listBusyPromise=a({method:"get",url:e+"?id="+d.Id+"&state="+h}).success(function(a){var d=a.State.Code;a.State.Message;0===d&&(c.autoclose(f+"操作成功！"),b.fetchData())}).error(function(a){c.autoclose(g(a))}))},this.toggleStatus=function(d,e,f){var h;1===e.OpenState?(h="停用",e.OpenState=2):(h="启用",e.OpenState=1),d.listBusyPromise=a({method:"put",headers:b.pHeader,url:f,data:e}).success(function(a){var b=a.State.Code,f=a.State.Message;0===b?(c.autoclose(h+"操作成功！"),d.fetchData()):(c.autoclose(f),1===e.OpenState?e.OpenState=2:e.OpenState=1)}).error(function(a){c.autoclose(g(a)),1===e.OpenState?e.OpenState=2:e.OpenState=1})},this.formSubmit=function(b,d,e,f,h,i,j){var k,l,m,n=b;switch(l=i?$.extend(!0,this.getFormData(e),i):this.getFormData(e),d){case!0:k="post",m="新增";break;case!1:k="put",m="修改",h&&(l.Id=h.Id)}n.ngDialogPromise=a({headers:j?j:null,method:k,url:f,data:l}).success(function(a){var b=a.State.Code,d=a.State.Message;0===b?(c.autoclose(m+"操作成功！"),n&&n.fetchData(),setTimeout(function(){n.closeThisDialog()},1600)):c.autoclose(d)}).error(function(a){c.autoclose(g(a))})},this.deleteItem=function(b,d,f,h){b.listBusyPromise=a({headers:h?h:null,method:"delete",url:d+"?id="+f.Id}).success(function(a){var d=a.State.Code,f=a.State.Message;0===d?(c.autoclose("删除操作成功！"),b.fetchData(),setTimeout(function(){e.close(0)},1600)):c.autoclose(f)}).error(function(a){c.autoclose(g(a))})}}]),App.directive("resetKey",["$state","$rootScope",function(a,b){"use strict";return{restrict:"A",scope:{resetKey:"="},link:function(a,b,c){a.resetKey=c.resetKey},controller:["$scope","$element",function(c,d){d.on("click",function(d){d.preventDefault(),c.resetKey?(delete b.$storage[c.resetKey],a.go(a.current,{},{reload:!0})):$.error("No storage key specified for reset.")})}]}}]),App.directive("filestyle",function(){return{restrict:"A",controller:["$scope","$element",function(a,b){var c=b.data();c.classInput=b.data("classinput")||c.classInput,b.filestyle(c)}]}}),App.directive("flatdoc",["$location",function(a){return{restrict:"EA",template:"<div role='flatdoc'><div role='flatdoc-menu'></div><div role='flatdoc-content'></div></div>",link:function(a,b,c){Flatdoc.run({fetcher:Flatdoc.file(c.src)});var d=$("html, body");$(document).on("flatdoc:ready",function(){var a=$('[role="flatdoc-menu"]');a.find("a").on("click",function(b){b.preventDefault(),b.stopPropagation();var c=$(this);a.find("a.active").removeClass("active"),c.addClass("active"),d.animate({scrollTop:$(this.getAttribute("href")).offset().top-($(".topnavbar").height()+10)},800)})})}}}]),App.directive("flot",["$http","$timeout",function(a,b){"use strict";function c(c,d,e){function f(){var a;if(c.dataset&&c.options)return a=$.plot(l,c.dataset,c.options),c.$emit("plotReady",a),c.callback&&c.callback(a,c),a}function g(a){return k?(k.setData(a),k.setupGrid(),k.draw()):(k=f(),h(c.series),k)}function h(a){function b(a){return function(b,d){c[d]&&c[d][a]&&(c[d][a].show=b)}}if(k&&a){var c=k.getData();for(var d in a)angular.forEach(a[d],b(d));k.setData(c),k.draw()}}function i(d){d&&a.get(d).success(function(a){b(function(){c.dataset=a})}).error(function(){$.error("Flot chart: Bad request.")})}var j,k,l,m,n=220;k=null,m=e.width||"100%",j=e.height||n,l=$(d.children()[0]),l.css({width:m,height:j}),c.$watchCollection("dataset",g,!0),c.$watch("series",h,!0),c.$watch("src",i)}return{restrict:"EA",template:"<div></div>",scope:{dataset:"=?",options:"=",series:"=",callback:"=",src:"="},link:c}}]),App.directive("formWizard",["$parse",function(a){"use strict";function b(a,b,c){var d=this;d.quantity=parseInt(a,10),d.validate=b,d.element=c,d.init=function(){return d.createsteps(d.quantity),d.go(1),d},d.go=function(a){if(angular.isDefined(d.steps[a])){if(d.validate&&1!==a){var b=$(d.element),c=b.children().children("div").get(a-2);if(!1===b.parsley().validate(c.id))return!1}d.cleanall(),d.steps[a]=!0}},d.active=function(a){return!!d.steps[a]},d.cleanall=function(){for(var a in d.steps)d.steps[a]=!1},d.createsteps=function(a){d.steps=[];for(var b=1;a>=b;b++)d.steps[b]=!1}}return{restrict:"A",scope:!0,link:function(c,d,e){var f=a(e.validateSteps)(c),g=new b(e.steps,!!f,d);c.wizard=g.init()}}}]),App.directive("toggleFullscreen",function(){"use strict";return{restrict:"A",link:function(a,b,c){b.on("click",function(a){a.preventDefault(),screenfull.enabled?(screenfull.toggle(),screenfull.isFullscreen?$(this).children("em").removeClass("fa-expand").addClass("fa-compress"):$(this).children("em").removeClass("fa-compress").addClass("fa-expand")):$.error("Fullscreen not enabled")})}}}),App.directive("loadCss",function(){"use strict";function a(a){var b="autoloaded-stylesheet",c=$("#"+b).attr("id",b+"-old");return $("head").append($("<link/>").attr({id:b,rel:"stylesheet",href:a})),c.length&&c.remove(),$("#"+b)}return{restrict:"A",link:function(b,c,d){c.on("click",function(b){c.is("a")&&b.preventDefault();var e,f=d.loadCss;f?(e=a(f),e||$.error("Error creating stylesheet link element.")):$.error("No stylesheet location defined.")})}}}),App.directive("masked",function(){return{restrict:"A",controller:["$scope","$element",function(a,b){var c=$(b);$.fn.inputmask&&c.inputmask()}]}}),function(){"use strict";function a(a){return function(){return{restrict:"EA",scope:{morrisData:"=",morrisOptions:"="},link:function(b,c,d){b.$watch("morrisData",function(a,c){a&&(b.morrisInstance.setData(a),b.morrisInstance.redraw())},!0),b.morrisOptions.element=c,b.morrisData&&(b.morrisOptions.data=b.morrisData),b.morrisInstance=new Morris[a](b.morrisOptions)}}}}App.directive("morrisBar",a("Bar")),App.directive("morrisDonut",a("Donut")),App.directive("morrisLine",a("Line")),App.directive("morrisArea",a("Area"))}(),App.directive("searchOpen",["navSearch",function(a){"use strict";return{restrict:"A",controller:["$scope","$element",function(b,c){c.on("click",function(a){a.stopPropagation()}).on("click",a.toggle)}]}}]).directive("searchDismiss",["navSearch",function(a){"use strict";var b='.navbar-form input[type="text"]';return{restrict:"A",controller:["$scope","$element",function(c,d){$(b).on("click",function(a){a.stopPropagation()}).on("keyup",function(b){27==b.keyCode&&a.dismiss()}),$(document).on("click",a.dismiss),d.on("click",function(a){a.stopPropagation()}).on("click",a.dismiss)}]}}]),App.directive("notify",["$window","Notify",function(a,b){return{restrict:"A",scope:{options:"=",message:"="},link:function(a,c,d){c.on("click",function(c){c.preventDefault(),b.alert(a.message,a.options)})}}}]),App.directive("now",["dateFilter","$interval",function(a,b){return{restrict:"E",link:function(c,d,e){function f(){var b=a(new Date,g);d.text(b)}var g=e.format;f(),b(f,1e3)}}}]),App.directive("paneltool",["$compile","$timeout",function(a,b){function c(a,b){var c="";return b=b||{},b.toolCollapse&&(c+=d.collapse.replace(/{{panelId}}/g,a.parent().parent().attr("id"))),b.toolDismiss&&(c+=d.dismiss),b.toolRefresh&&(c+=d.refresh.replace(/{{spinner}}/g,b.toolRefresh)),c}var d={collapse:"<a href='#' panel-collapse='' tooltip='折叠面板' ng-click='{{panelId}} = !{{panelId}}'>                 <em ng-show='{{panelId}}' class='fa fa-plus'></em>                 <em ng-show='!{{panelId}}' class='fa fa-minus'></em>               </a>",dismiss:"<a href='#' panel-dismiss='' tooltip='关闭面板'>               <em class='fa fa-times'></em>             </a>",refresh:"<a href='#' panel-refresh='' data-spinner='{{spinner}}' tooltip='刷新面板'>               <em class='fa fa-refresh'></em>             </a>"};return{restrict:"E",scope:!1,link:function(d,e,f){var g=d.panelTools||f;b(function(){e.html(c(e,g)).show(),a(e.contents())(d),e.addClass("pull-right")})}}}]).directive("panelDismiss",["$q","Utils",function(a,b){"use strict";return{restrict:"A",controller:["$scope","$element",function(c,d){var e="panel-remove",f="panel-removed";d.on("click",function(){function d(){var b=a.defer(),d=b.promise;c.$emit(e,i.attr("id"),b),d.then(g)}function g(){b.support.animation?i.animo({animation:"bounceOut"},h):h()}function h(){var a=i.parent();i.remove(),a.filter(function(){var a=$(this);return a.is('[class*="col-"]:not(.sortable)')&&0===a.children("*").length}).remove(),c.$emit(f,i.attr("id"))}var i=$(this).closest(".panel");d()})}]}}]).directive("panelCollapse",["$timeout",function(a){"use strict";function b(a,b){if(!a)return!1;var c=angular.fromJson(d[e]);c||(c={}),c[a]=b,d[e]=angular.toJson(c)}function c(a){if(!a)return!1;var b=angular.fromJson(d[e]);return b?b[a]:void 0}var d,e="panelState";return{restrict:"A",scope:!1,controller:["$scope","$element",function(e,f){var g=$(f),h=g.closest(".panel"),i=h.attr("id");d=e.$storage;var j=c(i);"undefined"!=typeof j&&a(function(){e[i]=j},10),f.bind("click",function(){b(i,!e[i])})}]}}]).directive("panelRefresh",["$q",function(a){"use strict";return{restrict:"A",scope:!1,controller:["$scope","$element",function(a,b){function c(a,b){if(b){var c="#"==b.charAt(0)?b:"#"+b;angular.element(c).removeClass(e)}}var d="panel-refresh",e="whirl",f="standard";b.on("click",function(){var b=$(this),c=b.parents(".panel").eq(0),g=b.data("spinner")||f;c.addClass(e+" "+g),a.$emit(d,c.attr("id"))}),a.$on("removeSpinner",c)}]}}]),App.directive("animate",["$window","Utils",function(a,b){"use strict";var c=$(window).add("body, .wrapper");return{restrict:"A",link:function(a,d,e){function f(a){!a.hasClass("anim-running")&&b.isInView(a,{topoffset:h})&&(a.addClass("anim-running"),setTimeout(function(){a.addClass("anim-done").animo({animation:j,duration:.7})},i))}var g=$(d),h=g.data("offset"),i=g.data("delay")||100,j=g.data("play")||"bounce";"undefined"!=typeof h&&(f(g),c.scroll(function(){f(g)})),g.on("click",function(){var a=$(this),b=a.data("target"),c=a.data("play")||"bounce",d=$(b);d&&d.length&&d.animo({animation:c})})}}}]),App.directive("scrollable",function(){return{restrict:"EA",link:function(a,b,c){var d=250;b.slimScroll({height:c.height||d})}}}),App.directive("sidebar",["$rootScope","$window","Utils",function(a,b,c){function d(){var a=$("<div/>",{"class":"dropdown-backdrop"});a.insertAfter(".aside-inner").on("click mouseenter",function(){g()})}function e(a){a.siblings("li").removeClass("open").end().toggleClass("open")}function f(a){g();var b=a.children("ul");if(!b.length)return $();if(a.hasClass("open"))return e(a),$();var c=$(".aside"),d=$(".aside-inner"),f=parseInt(d.css("padding-top"),0)+parseInt(c.css("padding-top"),0),k=b.clone().appendTo(c);e(a);var l=a.position().top+f-i.scrollTop(),m=j.height();return k.addClass("nav-floating").css({position:h.app.layout.isFixed?"fixed":"absolute",top:l,bottom:k.outerHeight(!0)+l>m?0:"auto"}),k.on("mouseleave",function(){e(a),k.remove()}),k}function g(){$(".dropdown-backdrop").remove(),$(".sidebar-subnav.nav-floating").remove(),$(".sidebar li.open").removeClass("open")}var h,i,j=$(b),k=$("body"),l=a.$state.current.name;return{restrict:"EA",template:'<nav class="sidebar" ng-transclude></nav>',transclude:!0,replace:!0,link:function(b,e,m){h=b,i=e;var n=c.isTouch()?"click":"mouseenter",o=$();i.on(n,".nav > li",function(){(c.isSidebarCollapsed()||a.app.layout.asideHover)&&(o.trigger("mouseleave"),o=f($(this)),d())}),b.$on("closeSidebarMenu",function(){g()}),j.on("resize",function(){c.isMobile()||k.removeClass("aside-toggled")}),a.$on("$stateChangeStart",function(b,c,d,e,f){l=c.name,$("body.aside-toggled").removeClass("aside-toggled"),a.$broadcast("closeSidebarMenu")}),angular.isDefined(m.sidebarAnyclickClose)&&$(".wrapper").on("click.sidebar",function(a){k.hasClass("aside-toggled")&&($(a.target).parents(".aside").length||k.removeClass("aside-toggled"))})}}}]),App.directive("skycon",function(){return{restrict:"A",link:function(a,b,c){var d=new Skycons({color:c.color||"white"});b.html('<canvas width="'+c.width+'" height="'+c.height+'"></canvas>'),d.add(b.children()[0],c.skycon),d.play()}}}),App.directive("sparkline",["$timeout","$window",function(a,b){"use strict";function c(a){var b=a.data();b.type=b.type||"bar",b.disableHiddenCheck=!0,a.sparkline("html",b),b.resize&&$(window).resize(function(){a.sparkline("html",b)})}return{restrict:"EA",controller:["$scope","$element",function(b,d){var e=function(){c(d)};a(e)}]}}]),App.directive("checkAll",function(){"use strict";return{restrict:"A",controller:["$scope","$element",function(a,b){b.on("change",function(){var a=$(this),b=a.index()+1,c=a.find('input[type="checkbox"]'),d=a.parents("table");d.find("tbody > tr > td:nth-child("+b+') input[type="checkbox"]').prop("checked",c[0].checked)})}]}}),App.directive("tagsinput",["$timeout",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){c.on("itemAdded itemRemoved",function(){e.$viewValue&&e.$viewValue.split&&(e.$setViewValue(e.$viewValue.split(",")),e.$render())}),a(function(){c.tagsinput()})}}}]),App.directive("toggleState",["toggleStateService",function(a){"use strict";return{restrict:"A",link:function(b,c,d){var e=$("body");$(c).on("click",function(b){b.preventDefault();var c=d.toggleState;c&&(e.hasClass(c)?(e.removeClass(c),d.noPersist||a.removeState(c)):(e.addClass(c),d.noPersist||a.addState(c)))})}}}]),App.directive("triggerResize",["$window","$timeout",function(a,b){return{restrict:"A",link:function(c,d,e){d.on("click",function(){b(function(){a.dispatchEvent(new Event("resize"))})})}}}]),App.directive("validateForm",function(){return{restrict:"A",controller:["$scope","$element",function(a,b){var c=$(b);$.fn.parsley&&c.parsley()}]}}),App.directive("vectorMap",["vectorMap",function(a){"use strict";var b={markerColor:"#23b7e5",bgColor:"transparent",scaleColors:["#878c9a"],regionFill:"#bbbec6"};return{restrict:"EA",link:function(c,d,e){var f=e.height||"300",g={markerColor:e.markerColor||b.markerColor,bgColor:e.bgColor||b.bgColor,scale:e.scale||1,scaleColors:e.scaleColors||b.scaleColors,regionFill:e.regionFill||b.regionFill,mapName:e.mapName||"world_mill_en"};d.css("height",f),a.init(d,g,c.seriesData,c.markersData)}}}]),App.service("browser",function(){"use strict";var a,b,c=function(a){a=a.toLowerCase();var b=/(opr)[\/]([\w.]+)/.exec(a)||/(chrome)[ \/]([\w.]+)/.exec(a)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c=/(ipad)/.exec(a)||/(iphone)/.exec(a)||/(android)/.exec(a)||/(windows phone)/.exec(a)||/(win)/.exec(a)||/(mac)/.exec(a)||/(linux)/.exec(a)||/(cros)/i.exec(a)||[];return{browser:b[3]||b[1]||"",version:b[2]||"0",platform:c[0]||""}};if(a=c(window.navigator.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version,b.versionNumber=parseInt(a.version)),a.platform&&(b[a.platform]=!0),(b.android||b.ipad||b.iphone||b["windows phone"])&&(b.mobile=!0),(b.cros||b.mac||b.linux||b.win)&&(b.desktop=!0),(b.chrome||b.opr||b.safari)&&(b.webkit=!0),b.rv){var d="msie";a.browser=d,b[d]=!0}if(b.opr){var e="opera";a.browser=e,b[e]=!0}if(b.safari&&b.android){var f="android";a.browser=f,b[f]=!0}return b.name=a.browser,b.platform=a.platform,b}),App.factory("colors",["APP_COLORS",function(a){return{byName:function(b){return a[b]||"#fff"}}}]),App.service("navSearch",function(){var a="form.navbar-form";return{toggle:function(){var b=$(a);b.toggleClass("open");var c=b.hasClass("open");b.find("input")[c?"focus":"blur"]()},dismiss:function(){$(a).removeClass("open").find('input[type="text"]').blur().val("")}}}),App.service("Notify",["$timeout",function(a){function b(b,c){b&&a(function(){$.notify(b,c||{})})}this.alert=b}]),function(a,b,c){var d={},e={},f=function(b){return"string"==a.type(b)&&(b={message:b}),arguments[1]&&(b=a.extend(b,"string"==a.type(arguments[1])?{status:arguments[1]}:arguments[1])),new h(b).show()},g=function(a,b){if(a)for(var c in e)a===e[c].group&&e[c].close(b);else for(var c in e)e[c].close(b)},h=function(b){this.options=a.extend({},h.defaults,b),this.uuid="ID"+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random()),this.element=a(['<div class="uk-notify-message alert-dismissable">','<a class="close">&times;</a>',"<div>"+this.options.message+"</div>","</div>"].join("")).data("notifyMessage",this),this.options.status&&(this.element.addClass("alert alert-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,e[this.uuid]=this,d[this.options.pos]||(d[this.options.pos]=a('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){a(this).data("notifyMessage").close()}))};return a.extend(h.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var a=this;d[this.options.pos].show().prepend(this.element);var b=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0}).animate({opacity:1,"margin-top":0,"margin-bottom":b},function(){if(a.options.timeout){var b=function(){a.close()};a.timeout=setTimeout(b,a.options.timeout),a.element.hover(function(){clearTimeout(a.timeout)},function(){a.timeout=setTimeout(b,a.options.timeout)})}}),this}},close:function(a){var b=this,c=function(){b.element.remove(),d[b.options.pos].children().length||d[b.options.pos].hide(),delete e[b.uuid]};this.timeout&&clearTimeout(this.timeout),a?c():this.element.animate({opacity:0,"margin-top":-1*this.element.outerHeight(),"margin-bottom":0},function(){c()})},content:function(a){var b=this.element.find(">div");return a?(b.html(a),this):b.html()},status:function(a){return a?(this.element.removeClass("alert alert-"+this.currentstatus).addClass("alert alert-"+a),this.currentstatus=a,this):this.currentstatus}}),h.defaults={message:"",status:"normal",timeout:5e3,group:null,pos:"top-center"},a.notify=f,a.notify.message=h,a.notify.closeAll=g,f}(jQuery,window,document),App.provider("RouteHelpers",["APP_REQUIRES",function(a){"use strict";this.basepath=function(a){return"app/views/"+a},this.resolveFor=function(){var b=arguments;return{deps:["$ocLazyLoad","$q",function(c,d){function e(a){return"function"==typeof a?g.then(a):g.then(function(){var b=f(a);return b?c.load(b):$.error("Route resolve: Bad resource name ["+a+"]")})}function f(b){if(a.modules)for(var c in a.modules)if(a.modules[c].name&&a.modules[c].name===b)return a.modules[c];return a.scripts&&a.scripts[b]}for(var g=d.when(1),h=0,i=b.length;i>h;h++)g=e(b[h]);return g}]}},this.$get=function(){return{basepath:this.basepath}}}]),App.service("PagerExtends",["$http",function(a){this.regListSpecifyPage=function(b,c,d){b.pagination={page:1,pageSize:10,total:0};var e={apiUrl:"",params:{length:b.pagination.pageSize,currentPage:b.pagination.page},success:function(){},error:function(){},addIndex:function(a){$(a).each(function(a,c){c.$index=(b.pagination.page-1)*b.pagination.pageSize+a+1})}},f=$.extend(!0,{},e,c);b.__paginationOpts=f,function(){b.listBusyPromise=a.get(f.apiUrl,{headers:d?d:null,method:"GET",params:f.params}).then(function(a){var c=a.data;if(0===c.State.Code){var d=c.Content;f.success(d.pagelist),f.addIndex(d.pagelist),b.pagination.page=d.paginator.currentPage,b.pagination.pageSize=d.paginator.length,b.pagination.total=d.paginator.totleNum}else f.error(a.message)})}(),b.getListSpecifyPage=function(c,e){var f=b.__paginationOpts,g=f.params;g.length=e,g.currentPage=c,b.listBusyPromise=a.get(f.apiUrl,{headers:d?d:null,method:"GET",params:g}).then(function(a){var c=a.data;if(0===c.State.Code){var d=c.Content;b.pagination.page=d.paginator.currentPage,b.pagination.pageSize=d.paginator.length,b.pagination.total=d.paginator.totleNum,f.success(d.pagelist),f.addIndex(d.pagelist)}else f.error(a.message)},function h(h){f.error(h)})},b.paginatorFirstPage=function(){b.getListSpecifyPage(1,10)}}}]),App.service("toggleStateService",["$rootScope",function(a){var b="toggleState",c={hasWord:function(a,b){return new RegExp("(^|\\s)"+b+"(\\s|$)").test(a)},addWord:function(a,b){return this.hasWord(a,b)?void 0:a+(a?" ":"")+b},removeWord:function(a,b){return this.hasWord(a,b)?a.replace(new RegExp("(^|\\s)*"+b+"(\\s|$)*","g"),""):void 0}};return{addState:function(d){var e=angular.fromJson(a.$storage[b]);e=e?c.addWord(e,d):d,a.$storage[b]=angular.toJson(e)},removeState:function(d){var e=a.$storage[b];e&&(e=c.removeWord(e,d),a.$storage[b]=angular.toJson(e))},restoreState:function(c){var d=angular.fromJson(a.$storage[b]);d&&c.addClass(d)}}}]),App.service("Utils",["$window","APP_MEDIAQUERY",function(a,b){"use strict";var c=angular.element("html"),d=angular.element(a),e=angular.element("body");return{support:{transition:function(){var a=function(){var a,b=document.body||document.documentElement,c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}(),animation:function(){var a=function(){var a,b=document.body||document.documentElement,c={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}(),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},touch:"ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,mutationobserver:window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||null},isInView:function(a,b){var c=$(a);if(!c.is(":visible"))return!1;var e=d.scrollLeft(),f=d.scrollTop(),g=c.offset(),h=g.left,i=g.top;return b=$.extend({topoffset:0,leftoffset:0},b),i+c.height()>=f&&i-b.topoffset<=f+d.height()&&h+c.width()>=e&&h-b.leftoffset<=e+d.width()?!0:!1},langdirection:"rtl"==c.attr("dir")?"right":"left",isTouch:function(){return c.hasClass("touch")},isSidebarCollapsed:function(){return e.hasClass("aside-collapsed")},isSidebarToggled:function(){return e.hasClass("aside-toggled")},isMobile:function(){return d.width()<b.tablet}}}]),App.service("vectorMap",function(){"use strict";return{init:function(a,b,c,d){a.vectorMap({map:b.mapName,backgroundColor:b.bgColor,zoomMin:1,zoomMax:8,zoomOnScroll:!1,regionStyle:{initial:{fill:b.regionFill,"fill-opacity":1,stroke:"none","stroke-width":1.5,"stroke-opacity":1},hover:{"fill-opacity":.8},selected:{fill:"blue"},selectedHover:{}},focusOn:{x:.4,y:.6,scale:b.scale},markerStyle:{initial:{fill:b.markerColor,stroke:b.markerColor}},onRegionLabelShow:function(a,b,d){c&&c[d]&&b.html(b.html()+": "+c[d]+" visitors")},markers:d,series:{regions:[{values:c,scale:b.scaleColors,normalizeFunction:"polynomial"}]}})}}}),App.service("layerAlert",function(){var a=["360px","auto"],b=["确定","取消"],c=5,d=!1;this.error=function(e,f){var g="出错啦！";f=f?f:g,layer.open({title:f,shadeClose:d,area:a,btn:b,btnAlign:"c",content:e,icon:2,shift:c})},this.iframe=function(a,b){var c="弹出窗口";a=a?a:c,layer.open({type:2,title:a,maxmin:!0,shadeClose:!1,area:["100%","100%"],content:b})},this.autoclose=function(e,f,g){var h="提示！";f=f?f:h,g=g?g:1e3,1===arguments.length?layer.alert(e):layer.open({title:f,shadeClose:d,area:a,btn:b,btnAlign:"c",content:e,icon:0,shift:c}),setTimeout(function(a,b){layer.closeAll()},g)},this.success=function(a,e){var f="成功啦！";e=e?e:f,layer.open({title:e,shadeClose:d,area:["360px","auto"],btn:b,btnAlign:"c",content:a,icon:1,shift:c})},this.info=function(e,f){var g="提示！";f=f?f:g,layer.open({title:f,shadeClose:d,area:a,btn:b,btnAlign:"c",content:e,icon:0,shift:c})},this.confirm=function(e,f,g){var h="提示：";g=g?g:h,layer.open({title:g,shadeClose:d,area:a,btn:b,btnAlign:"c",content:e,icon:0,shift:c,yes:function(a,b){f&&f(),layer.close(a)}})},this.checkone=function(){var e="提示:",f="请选择要执行的操作",g=arguments[0]?arguments[0]:e,h=arguments[3]&&arguments[4]?[arguments[3],arguments[4]]:b,i=arguments[7]?arguments[7]:f;if("function"==typeof arguments[0]&&"function"==typeof arguments[1]){var j=arguments[4],k=arguments[5];g=e,h=arguments[2]&&arguments[3]?[arguments[2],arguments[3]]:b;var l=arguments[0],m=arguments[1];layer.open({title:g,shadeClose:d,area:a,btn:h,btnAlign:"c",content:i,icon:0,shift:c,btn1:function(a,b){l(),j&&layer.close(a)},btn2:function(a,b){return m(),k?void 0:!1}})}else{var l=arguments[1],m=arguments[2],j=arguments[5],k=arguments[6];layer.open({title:g,shadeClose:d,area:a,btn:h,btnAlign:"c",content:i,icon:0,shift:c,btn1:function(a,b){l&&l(),j&&layer.close(a)},btn2:function(a,b){return m&&m(),k?void 0:!1}})}}});var myApp=angular.module("myAppName",["scoc"]);myApp.run(["$log",function(a){a.log("I'm a line from custom.js")}]),myApp.config(["RouteHelpersProvider",function(a){}]),myApp.controller("oneOfMyOwnController",["$scope",function(a){}]),myApp.directive("oneOfMyOwnDirectives",function(){}),myApp.config(["$stateProvider",function(a){}]),App.controller("DatepickersCtrl",["$scope",function(a){a.opened=!1,a.today=function(){a.dt=new Date},a.today(),a.clear=function(){a.dt=null},a.disabled=function(a,b){return"day"===b},a.toggleMin=function(){a.minDate=a.minDate?null:new Date},a.toggleMin(),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.dateOptions={formatYear:"YYYY",startingDay:1},a.initDate=new Date("2016-15-20"),a.formats=["dd-MMMM-yyyy","yyyy-MM-dd","dd.MM.yyyy","shortDate"],a.format=a.formats[1]}]);